{"ast":null,"code":"var _jsxFileName = \"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\src\\\\pages\\\\QRScan.tsx\";\nimport { IonButton, IonCol, IonContent, IonGrid, IonHeader, IonPage, IonRow } from '@ionic/react';\nimport React from 'react';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\nimport firebase from 'firebase';\nimport '../css/Global.css';\nimport '../css/OpenHouseActivities.css';\nimport TopNav from '../components/TopNav';\nimport { db } from '../firebase';\nimport { useAuth } from '../modules/auth';\n\nconst QRScan = () => {\n  const {\n    userID\n  } = useAuth();\n\n  const openScanner = async () => {\n    const data = await BarcodeScanner.scan();\n\n    if (!isNaN(+data.text)) {\n      const increment = firebase.firestore.FieldValue.increment(+data.text);\n      await db.collection('Games').doc(userID).update({\n        points: increment\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TopNav, {\n    title: \"QR Scanner\",\n    route: \"/u/home\",\n    backarrow: true,\n    hamburger: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(IonContent, {\n    fullscreen: true,\n    className: \"QR-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonGrid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    color: \"dark\",\n    expand: \"block\",\n    onClick: openScanner,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 15\n    }\n  }, \"Scan barcode\"))))));\n};\n\nexport default QRScan;","map":{"version":3,"sources":["D:/BearBear/Coding_Projects/UOW-CSIT321 (FYP)/FYP20S313-Mobile/SIM-OpenHouse/src/pages/QRScan.tsx"],"names":["IonButton","IonCol","IonContent","IonGrid","IonHeader","IonPage","IonRow","React","BarcodeScanner","firebase","TopNav","db","useAuth","QRScan","userID","openScanner","data","scan","isNaN","text","increment","firestore","FieldValue","collection","doc","update","points"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,UAA5B,EAAwCC,OAAxC,EAAiDC,SAAjD,EAA4DC,OAA5D,EAAqEC,MAArE,QAAmF,cAAnF;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,+BAA/B;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEA,OAAO,mBAAP;AACA,OAAO,gCAAP;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,EAAT,QAAmB,aAAnB;AACA,SAASC,OAAT,QAAwB,iBAAxB;;AAEA,MAAMC,MAAgB,GAAG,MAAM;AAC7B,QAAM;AAAEC,IAAAA;AAAF,MAAaF,OAAO,EAA1B;;AAEA,QAAMG,WAAW,GAAG,YAAY;AAC9B,UAAMC,IAAI,GAAG,MAAMR,cAAc,CAACS,IAAf,EAAnB;;AAEA,QAAI,CAACC,KAAK,CAAC,CAACF,IAAI,CAACG,IAAP,CAAV,EAAwB;AACtB,YAAMC,SAAS,GAAGX,QAAQ,CAACY,SAAT,CAAmBC,UAAnB,CAA8BF,SAA9B,CAAwC,CAACJ,IAAI,CAACG,IAA9C,CAAlB;AAEA,YAAMR,EAAE,CAACY,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BV,MAA3B,EAAmCW,MAAnC,CAA0C;AAC9CC,QAAAA,MAAM,EAAEN;AADsC,OAA1C,CAAN;AAGD;AACF,GAVD;;AAYA,sBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,YAAd;AAA2B,IAAA,KAAK,EAAC,SAAjC;AAA2C,IAAA,SAAS,EAAG,IAAvD;AAA8D,IAAA,SAAS,EAAG,IAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAKE,oBAAC,UAAD;AAAY,IAAA,UAAU,MAAtB;AAAuB,IAAA,SAAS,EAAC,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,4BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,MAAjB;AAAwB,IAAA,MAAM,EAAC,OAA/B;AAAuC,IAAA,OAAO,EAAEL,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADF,CADF,CADF,CALF,CADF;AAiBD,CAhCD;;AAkCA,eAAeF,MAAf","sourcesContent":["import { IonButton, IonCol, IonContent, IonGrid, IonHeader, IonPage, IonRow } from '@ionic/react';\r\nimport React from 'react';\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\r\nimport firebase from 'firebase';\r\n\r\nimport '../css/Global.css';\r\nimport '../css/OpenHouseActivities.css';\r\nimport TopNav from '../components/TopNav';\r\nimport { db } from '../firebase';\r\nimport { useAuth } from '../modules/auth';\r\n\r\nconst QRScan: React.FC = () => {\r\n  const { userID } = useAuth();\r\n\r\n  const openScanner = async () => {\r\n    const data = await BarcodeScanner.scan();\r\n\r\n    if (!isNaN(+data.text)) {\r\n      const increment = firebase.firestore.FieldValue.increment(+data.text);\r\n\r\n      await db.collection('Games').doc(userID).update({\r\n        points: increment,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IonPage>\r\n      <IonHeader>\r\n        <TopNav title=\"QR Scanner\" route=\"/u/home\" backarrow={ true } hamburger={ true }/>\r\n      </IonHeader>\r\n\r\n      <IonContent fullscreen className=\"QR-content\">\r\n        <IonGrid>\r\n          <IonRow className=\"ion-justify-content-center\">\r\n            <IonCol>\r\n              <IonButton color=\"dark\" expand=\"block\" onClick={openScanner}>Scan barcode</IonButton>\r\n            </IonCol>\r\n          </IonRow>\r\n        </IonGrid>\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default QRScan;\r\n"]},"metadata":{},"sourceType":"module"}