{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{IonCol,IonContent,IonGrid,IonHeader,IonImg,IonPage,IonRouterLink,IonRow,IonText}from'@ionic/react';import React,{useEffect,useState}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faChalkboardTeacher,faMapPin,faStar}from'@fortawesome/free-solid-svg-icons';import'../../css/Global.css';import'../../css/OpenHouseMain.css';import gif from'../../img/openHouseProgrammes/Open House Programmes.gif';import TopNav from'../../components/TopNav';import{useAuth}from'../../modules/auth';import{db}from'../../firebase';var OpenHouseMain=function OpenHouseMain(){var _useAuth=useAuth(),userID=_useAuth.userID;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),allowAnnouncementNotify=_useState2[0],setAllowAnnouncementNotify=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),allowOpenhouseNotify=_useState4[0],setAllowOpenhouseNotify=_useState4[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return db.collection('MobileSettings').doc(userID).get().then(function(doc){var _doc$data,_doc$data2;setAllowOpenhouseNotify((_doc$data=doc.data())===null||_doc$data===void 0?void 0:_doc$data.openhouseNotif);setAllowAnnouncementNotify((_doc$data2=doc.data())===null||_doc$data2===void 0?void 0:_doc$data2.announcementNotif);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);useEffect(function(){return function(){window.sessionStorage.setItem(\"allowAnnoucementNotif\",JSON.stringify(allowAnnouncementNotify));window.sessionStorage.setItem(\"allowOpenhouseNotif\",JSON.stringify(allowOpenhouseNotify));};},[allowAnnouncementNotify,allowOpenhouseNotify]);return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(TopNav,{title:\"Open House Programmes\",route:\"/u/home\",backarrow:true,hamburger:true})),/*#__PURE__*/React.createElement(IonContent,{fullscreen:true},/*#__PURE__*/React.createElement(IonGrid,{id:\"openHouseMain-grid\"},/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,{sizeSm:\"12\",className:\"gifCol\"},/*#__PURE__*/React.createElement(IonImg,{src:gif}))),/*#__PURE__*/React.createElement(IonRow,{className:\"ion-justify-content-around openHouseMainRow\"},/*#__PURE__*/React.createElement(IonCol,{sizeSm:\"4\",className:\"openHouseMainCol\"},/*#__PURE__*/React.createElement(IonRouterLink,{routerLink:\"/u/openHouseMain/programmeTalks\"},/*#__PURE__*/React.createElement(IonRow,{className:\"ion-justify-content-center\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"openHouseMain-icons\",icon:faChalkboardTeacher,size:\"2x\"})),/*#__PURE__*/React.createElement(IonRow,{className:\"ion-justify-content-center\"},/*#__PURE__*/React.createElement(IonText,{id:\"openHouseMainText\"},\"Programme Talks\")))),/*#__PURE__*/React.createElement(IonCol,{sizeSm:\"4\",className:\"openHouseMainCol\"},/*#__PURE__*/React.createElement(IonRouterLink,{routerLink:\"/u/openHouseMain/guidedTours\",routerDirection:\"forward\"},/*#__PURE__*/React.createElement(IonRow,{className:\"ion-justify-content-center\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"openHouseMain-icons\",icon:faMapPin,size:\"2x\"})),/*#__PURE__*/React.createElement(IonRow,{className:\"ion-justify-content-center\"},/*#__PURE__*/React.createElement(IonText,{id:\"openHouseMainText\"},\"Guided Tours\"))))),/*#__PURE__*/React.createElement(IonRow,{className:\"ion-justify-content-around openHouseMainRow\"},/*#__PURE__*/React.createElement(IonCol,{sizeSm:\"4\",className:\"openHouseMainCol\"},/*#__PURE__*/React.createElement(IonRouterLink,{routerLink:\"/u/openHouseMain/openHouseActivities\"},/*#__PURE__*/React.createElement(IonRow,{className:\"ion-justify-content-center\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"openHouseMain-icons\",icon:faStar,size:\"2x\"})),/*#__PURE__*/React.createElement(IonRow,{className:\"ion-justify-content-center\"},/*#__PURE__*/React.createElement(IonText,{id:\"openHouseMainText\"},\"Open House Activities\")))),/*#__PURE__*/React.createElement(IonCol,{sizeSm:\"4\",className:\"openHouseMainCol\"})))));};export default OpenHouseMain;","map":{"version":3,"sources":["D:/BearBear/Coding_Projects/UOW-CSIT321 (FYP)/FYP20S313-Mobile/SIM-OpenHouse/src/pages/OpenHouseProgrammes/OpenHouseMain.tsx"],"names":["IonCol","IonContent","IonGrid","IonHeader","IonImg","IonPage","IonRouterLink","IonRow","IonText","React","useEffect","useState","FontAwesomeIcon","faChalkboardTeacher","faMapPin","faStar","gif","TopNav","useAuth","db","OpenHouseMain","userID","allowAnnouncementNotify","setAllowAnnouncementNotify","allowOpenhouseNotify","setAllowOpenhouseNotify","fetchData","collection","doc","get","then","data","openhouseNotif","announcementNotif","window","sessionStorage","setItem","JSON","stringify"],"mappings":"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","sourcesContent":["import { IonCol, IonContent, IonGrid, IonHeader, IonImg, IonPage, IonRouterLink, IonRow, IonText } from '@ionic/react';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChalkboardTeacher, faMapPin, faStar } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport '../../css/Global.css';\r\nimport '../../css/OpenHouseMain.css';\r\nimport gif from '../../img/openHouseProgrammes/Open House Programmes.gif';\r\nimport TopNav from '../../components/TopNav';\r\nimport { useAuth } from '../../modules/auth';\r\nimport { db } from '../../firebase';\r\n\r\nconst OpenHouseMain: React.FC = () => {\r\n    const { userID } = useAuth();\r\n\r\n    const [allowAnnouncementNotify, setAllowAnnouncementNotify] = useState(false);\r\n    const [allowOpenhouseNotify, setAllowOpenhouseNotify] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await db.collection('MobileSettings').doc(userID).get().then(doc => {\r\n                setAllowOpenhouseNotify(doc.data()?.openhouseNotif)\r\n                setAllowAnnouncementNotify(doc.data()?.announcementNotif)\r\n            })\r\n        }\r\n\r\n        fetchData()\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            window.sessionStorage.setItem(\"allowAnnoucementNotif\", JSON.stringify(allowAnnouncementNotify));\r\n            window.sessionStorage.setItem(\"allowOpenhouseNotif\", JSON.stringify(allowOpenhouseNotify));\r\n        }\r\n    }, [allowAnnouncementNotify, allowOpenhouseNotify]);\r\n\r\n    return (\r\n        <IonPage>\r\n            <IonHeader>\r\n                <TopNav title=\"Open House Programmes\" route=\"/u/home\" backarrow={true} hamburger={true} />\r\n            </IonHeader>\r\n\r\n            <IonContent fullscreen>\r\n                <IonGrid id=\"openHouseMain-grid\">\r\n                    <IonRow>\r\n                        <IonCol sizeSm=\"12\" className=\"gifCol\">\r\n                            <IonImg src={gif}></IonImg>\r\n                        </IonCol>\r\n                    </IonRow>\r\n\r\n                    <IonRow className=\"ion-justify-content-around openHouseMainRow\">\r\n                        <IonCol sizeSm=\"4\" className=\"openHouseMainCol\">\r\n                            <IonRouterLink routerLink=\"/u/openHouseMain/programmeTalks\">\r\n                                <IonRow className=\"ion-justify-content-center\">\r\n                                    <FontAwesomeIcon className=\"openHouseMain-icons\" icon={faChalkboardTeacher} size=\"2x\" />\r\n                                </IonRow>\r\n                                <IonRow className=\"ion-justify-content-center\">\r\n                                    <IonText id=\"openHouseMainText\">Programme Talks</IonText>\r\n                                </IonRow>\r\n                            </IonRouterLink>\r\n                        </IonCol>\r\n                        <IonCol sizeSm=\"4\" className=\"openHouseMainCol\">\r\n                            <IonRouterLink routerLink=\"/u/openHouseMain/guidedTours\" routerDirection=\"forward\">\r\n                                <IonRow className=\"ion-justify-content-center\">\r\n                                    <FontAwesomeIcon className=\"openHouseMain-icons\" icon={faMapPin} size=\"2x\" />\r\n                                </IonRow>\r\n                                <IonRow className=\"ion-justify-content-center\">\r\n                                    <IonText id=\"openHouseMainText\">Guided Tours</IonText>\r\n                                </IonRow>\r\n                            </IonRouterLink>\r\n                        </IonCol>\r\n                    </IonRow>\r\n                    <IonRow className=\"ion-justify-content-around openHouseMainRow\">\r\n                        <IonCol sizeSm=\"4\" className=\"openHouseMainCol\">\r\n                            <IonRouterLink routerLink=\"/u/openHouseMain/openHouseActivities\">\r\n                                <IonRow className=\"ion-justify-content-center\">\r\n                                    <FontAwesomeIcon className=\"openHouseMain-icons\" icon={faStar} size=\"2x\" />\r\n                                </IonRow>\r\n                                <IonRow className=\"ion-justify-content-center\">\r\n                                    <IonText id=\"openHouseMainText\">Open House Activities</IonText>\r\n                                </IonRow>\r\n                            </IonRouterLink>\r\n                        </IonCol>\r\n                        <IonCol sizeSm=\"4\" className=\"openHouseMainCol\"></IonCol>\r\n                    </IonRow>\r\n                </IonGrid>\r\n            </IonContent>\r\n        </IonPage>\r\n    );\r\n};\r\n\r\nexport default OpenHouseMain;"]},"metadata":{},"sourceType":"module"}