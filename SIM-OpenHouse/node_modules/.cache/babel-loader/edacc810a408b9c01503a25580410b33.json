{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{IonContent,IonGrid,IonHeader,IonPage,IonSegment,IonSegmentButton,IonToolbar}from'@ionic/react';import React,{useEffect,useState}from'react';import'../../css/Global.css';import'../../css/StudentLife.css';import TopNav from'../../components/TopNav';import SimGeBursary from'../../components/Bursary/SimGeBursary';import OtherFinancialAssistance from'../../components/Bursary/OtherFinancialAssistance';import{db}from'../../firebase';import{toBrochure,toScholarshipBursary}from'../../modules/map';var Bursary=function Bursary(){var _useState=useState('simGeBursary'),_useState2=_slicedToArray(_useState,2),heading=_useState2[0],setHeading=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),brochure=_useState4[0],setBrochure=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),bursaries=_useState6[0],setBursaries=_useState6[1];var handleHeading=function handleHeading(){setHeading('simGeBursary');};var handleHeading2=function handleHeading2(){setHeading('otherFinancialAssistance');};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return db.collection('Bursary').get().then(function(_ref2){var docs=_ref2.docs;setBursaries(docs.map(toScholarshipBursary));});case 2:_context.next=4;return db.collection('Brochures').where('description','in',['Bursary-FAQ']).get().then(function(_ref3){var docs=_ref3.docs;var brocs=docs.map(toBrochure);if(brocs.length==1)setBrochure(brocs[0]);});case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(TopNav,{title:\"Bursary\",route:\"/u/studentLife@SIM\",backarrow:true,hamburger:true}),/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonSegment,{scrollable:true,value:heading,id:\"bursary-mainHeader\",onIonChange:function onIonChange(e){return console.log(\"\".concat(e.detail.value,\" segment selected\"));}},/*#__PURE__*/React.createElement(IonSegmentButton,{value:\"simGeBursary\",className:\"bursary-heading\",onClick:function onClick(){return handleHeading();}},/*#__PURE__*/React.createElement(\"div\",null,\"SIM GE Bursary\")),/*#__PURE__*/React.createElement(IonSegmentButton,{value:\"otherFinancialAssistance\",className:\"bursary-heading\",onClick:function onClick(){return handleHeading2();}},/*#__PURE__*/React.createElement(\"div\",{className:\"ion-text-wrap\"},\"Other Financial Assistance\"))))),/*#__PURE__*/React.createElement(IonContent,{fullscreen:true,className:\"studentLife-content\"},/*#__PURE__*/React.createElement(IonGrid,{id:\"bursary-ionRowCol\"},heading==='simGeBursary'?/*#__PURE__*/React.createElement(SimGeBursary,{brochure:brochure,bursaries:bursaries}):'',heading==='otherFinancialAssistance'?/*#__PURE__*/React.createElement(OtherFinancialAssistance,{bursaries:bursaries}):'')));};export default Bursary;","map":{"version":3,"sources":["D:/BearBear/Coding_Projects/UOW-CSIT321 (FYP)/FYP20S313-Mobile/SIM-OpenHouse/src/pages/StudentLife@SIM/Bursary.tsx"],"names":["IonContent","IonGrid","IonHeader","IonPage","IonSegment","IonSegmentButton","IonToolbar","React","useEffect","useState","TopNav","SimGeBursary","OtherFinancialAssistance","db","toBrochure","toScholarshipBursary","Bursary","heading","setHeading","brochure","setBrochure","bursaries","setBursaries","handleHeading","handleHeading2","fetchData","collection","get","then","docs","map","where","brocs","length","e","console","log","detail","value"],"mappings":"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","sourcesContent":["import { IonContent, IonGrid, IonHeader, IonPage, IonSegment, IonSegmentButton, IonToolbar } from '@ionic/react';\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nimport '../../css/Global.css';\r\nimport '../../css/StudentLife.css';\r\nimport TopNav from '../../components/TopNav';\r\nimport SimGeBursary from '../../components/Bursary/SimGeBursary';\r\nimport OtherFinancialAssistance from '../../components/Bursary/OtherFinancialAssistance';\r\nimport { db } from '../../firebase';\r\nimport { toBrochure, toScholarshipBursary } from '../../modules/map';\r\n\r\nconst Bursary: React.FC = () => {\r\n\r\n    const [heading, setHeading] = useState('simGeBursary');\r\n    const [brochure, setBrochure] = useState<any>({});\r\n    const [bursaries, setBursaries] = useState<any>([]);\r\n\r\n    const handleHeading = () => {\r\n        setHeading('simGeBursary');\r\n    }\r\n\r\n    const handleHeading2 = () => {\r\n        setHeading('otherFinancialAssistance');\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await db.collection('Bursary').get().then(({ docs }) => {\r\n                setBursaries(docs.map(toScholarshipBursary));\r\n            });\r\n            \r\n            await db.collection('Brochures').where('description', 'in', ['Bursary-FAQ']).get().then(({ docs }) => {\r\n                const brocs = docs.map(toBrochure);\r\n    \r\n                if (brocs.length == 1)\r\n                    setBrochure(brocs[0]);\r\n            });\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    return (\r\n        <IonPage>\r\n            <IonHeader>\r\n                <TopNav title=\"Bursary\" route=\"/u/studentLife@SIM\" backarrow={ true } hamburger={ true }/>\r\n\r\n                <IonToolbar>\r\n                    <IonSegment scrollable value={heading} id=\"bursary-mainHeader\" onIonChange={(e) => console.log(`${e.detail.value} segment selected`)}>\r\n                        <IonSegmentButton value=\"simGeBursary\" className=\"bursary-heading\" onClick={() => handleHeading()}><div>SIM GE Bursary</div></IonSegmentButton>\r\n                        <IonSegmentButton value=\"otherFinancialAssistance\" className=\"bursary-heading\" onClick={() => handleHeading2()}><div className=\"ion-text-wrap\">Other Financial Assistance</div></IonSegmentButton>\r\n                    </IonSegment>\r\n                </IonToolbar>\r\n            </IonHeader>\r\n            \r\n            <IonContent fullscreen className=\"studentLife-content\">\r\n                <IonGrid id=\"bursary-ionRowCol\">\r\n\r\n                    {heading === 'simGeBursary' ? \r\n                        <SimGeBursary brochure={brochure} bursaries={bursaries} /> : ''\r\n                    }\r\n\r\n                    {heading === 'otherFinancialAssistance' ? \r\n                        <OtherFinancialAssistance bursaries={bursaries} /> : ''\r\n                    }\r\n\r\n                </IonGrid>\r\n            </IonContent>\r\n        </IonPage>\r\n    );\r\n};\r\n\r\nexport default Bursary;"]},"metadata":{},"sourceType":"module"}