{"ast":null,"code":"var _jsxFileName = \"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\src\\\\pages\\\\Forum\\\\Forum.tsx\";\nimport { IonButton, IonCheckbox, IonCol, IonContent, IonFooter, IonGrid, IonHeader, IonIcon, IonItem, IonItemDivider, IonLabel, IonList, IonLoading, IonModal, IonPage, IonRouterLink, IonRow, IonSearchbar, IonSegment, IonSegmentButton, IonText, IonTextarea, IonTitle, IonToolbar } from \"@ionic/react\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faClock, faCommentAlt } from \"@fortawesome/free-regular-svg-icons\";\nimport { addCircleSharp, personSharp } from \"ionicons/icons\";\nimport \"../../css/Global.css\";\nimport \"../../css/Forum.css\";\nimport TopNav from '../../components/TopNav';\nimport ForumRules from '../../components/Forum/ForumRules';\nimport Forum_FlagModal from \"../../components/Forum/Forum_FlagModal\";\nimport { db } from \"../../firebase\";\nimport { useAuth } from \"../../modules/auth\";\nimport { forumPostsDesc } from \"../../modules/compare\";\n\nconst Forum = () => {\n  const {\n    userID\n  } = useAuth();\n  const {\n    register,\n    errors,\n    handleSubmit\n  } = useForm();\n  const [loading, setLoading] = useState(false);\n  const [checked, setChecked] = useState(false);\n  const [agreedTOC, setAgreedTOC] = useState(true);\n  const [showPostModal, setShowPostModal] = useState(false);\n  const [modalSegmentValue, setModalSegmentValue] = useState('');\n  const [entry, setEntry] = useState(\"\");\n  const [questionEntries, setQuestionEntries] = useState([]);\n  let history = useHistory();\n\n  const onSubmit = async () => {\n    setLoading(true);\n    if (checked) await db.collection('Forum').doc(userID).update({\n      readRules: true\n    });\n    setLoading(false);\n  };\n\n  const handlePost = async postType => {\n    try {\n      setLoading(true);\n      const time = new Date();\n      let name;\n      await db.collection('Students').doc(userID).get().then(doc => {\n        name = doc.data().firstName + \" \" + doc.data().lastName;\n      });\n\n      if (postType == \"question\") {\n        const docRef = db.collection('Forum').doc(userID).collection('Questions').doc(time.getTime().toString());\n        await docRef.set({\n          id: +docRef.id,\n          entry: entry,\n          posterName: name,\n          posterID: userID,\n          dateTime: time.toLocaleString().replace(/\\//g, \"-\"),\n          noOfComments: 0,\n          deleted: false,\n          reported: false\n        });\n      } else if (postType == \"comment\") {\n        const docRef = db.collection('Forum').doc(userID).collection('Comments').doc(time.getTime().toString());\n        await docRef.set({\n          id: +docRef.id,\n          entry: entry,\n          posterName: name,\n          posterID: userID,\n          dateTime: time.toLocaleString().replace(/\\//g, \"-\"),\n          deleted: false,\n          reported: false\n        });\n        /* const increment = firebase.firestore.FieldValue.increment(1);\r\n        await db.collection('Forum').doc(\"\").collection('Questions').doc(\"\").update({\r\n            noOfComments: increment,\r\n        }); */\n      }\n    } catch (e) {\n      return console.log(e);\n    } finally {\n      setLoading(false);\n      setShowPostModal(false);\n      setEntry(\"\");\n    }\n  };\n\n  useEffect(() => {\n    db.collection('Forum').doc(userID).onSnapshot(snapshot => {\n      if (snapshot.data().readRules) setAgreedTOC(true);else setAgreedTOC(false);\n    });\n    db.collection('Forum').get().then(uRef => {\n      const questions = [];\n      uRef.forEach(user => {\n        {\n          /* await db.collection('Forum').doc(user.id).collection('Questions').get().then(entries => {\r\n             entries.forEach(doc => {\r\n                 questions.push({\r\n                     id: doc.id,\r\n                     entry: doc.data().entry,\r\n                     dateTime: doc.data().dateTime,\r\n                     user: doc.data().posterName,\r\n                     commentCount: doc.data().noOfComments\r\n                 });\r\n             });\r\n          }); */\n        }\n        {\n          /* return db.collection('Forum').doc(user.id).collection('Questions').onSnapshot(entries => {\r\n             entries.docChanges().forEach(change => {\r\n                 questions.push({\r\n                     id: change.doc.id,\r\n                     entry: change.doc.data().entry,\r\n                     dateTime: change.doc.data().dateTime,\r\n                     user: change.doc.data().posterName,\r\n                     commentCount: change.doc.data().noOfComments\r\n                 });\r\n             })\r\n          }); */\n        }\n        return db.collection('Forum').doc(user.id).collection('Questions').onSnapshot(entries => {\n          entries.docChanges().forEach(change => {\n            questions.unshift({\n              id: change.doc.id,\n              entry: change.doc.data().entry,\n              dateTime: change.doc.data().dateTime,\n              user: change.doc.data().posterName,\n              commentCount: change.doc.data().noOfComments\n            });\n          });\n        });\n      });\n      setTimeout(() => {\n        questions.sort(forumPostsDesc);\n        setQuestionEntries(questions);\n      }, 500);\n    });\n  }, []);\n  console.log(questionEntries);\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TopNav, {\n    title: \"Forum\",\n    route: \"/u/home\",\n    backarrow: true,\n    hamburger: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(IonContent, {\n    fullscreen: true,\n    id: \"forum-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, agreedTOC === true ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IonGrid, {\n    id: \"forum-searchbar-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(IonSearchbar, {\n    id: \"forum-searchbar\",\n    animated: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(IonGrid, {\n    id: \"forum-heading-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"10\",\n    className: \"ion-align-self-center forum-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonTitle, {\n    id: \"forum-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 33\n    }\n  }, \"All Discussions\")), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"2\",\n    className: \"forum-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ForumRules, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 33\n    }\n  })))), questionEntries.map((question, index) => /*#__PURE__*/React.createElement(IonList, {\n    className: \"forum-container\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(IonGrid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonRouterLink, {\n    href: \"/u/forumViewQuestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    className: \"forum-question\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 84\n    }\n  }, question.entry)))), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    className: \"forum-question-details\",\n    id: \"forum-userName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 37\n    }\n  }, \"~ \", question.user)), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-align-items-end ion-justify-content-start\",\n    id: \"forum-question-detail-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"1\",\n    className: \"forum-col ion-align-self-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faClock,\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"6\",\n    className: \"forum-col ion-align-self-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    className: \"forum-question-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 41\n    }\n  }, question.dateTime)), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"1\",\n    className: \"forum-col ion-align-self-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCommentAlt,\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"3\",\n    className: \"forum-col ion-align-self-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    className: \"forum-question-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 41\n    }\n  }, question.commentCount)), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"1\",\n    className: \"ion-align-self-end forum-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Forum_FlagModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 41\n    }\n  }))))))) : /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(IonGrid, {\n    id: \"forumRulesGrid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    id: \"important-notice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 33\n    }\n  }, \"*Important Notice*\")), /*#__PURE__*/React.createElement(IonRow, {\n    id: \"forum-rules\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 33\n    }\n  }, \"Forum Rules\")), /*#__PURE__*/React.createElement(IonRow, {\n    id: \"forum-instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 33\n    }\n  }, \"This forum is strictly for discussion about programmes offered by SIM and its partner universities and SIM Open House. Please adhere to the following rules before posting in the forum.\")), /*#__PURE__*/React.createElement(IonRow, {\n    id: \"forum-instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 33\n    }\n  }, \"1. Remain respectful of other users at all times.\")), /*#__PURE__*/React.createElement(IonRow, {\n    id: \"forum-instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 33\n    }\n  }, \"2. Please do not spam. The definition of spam is an irrelevant or advertising post. Any post that is considered spam will be removed.\")), /*#__PURE__*/React.createElement(IonRow, {\n    id: \"forum-instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 33\n    }\n  }, \"3. Do not post offensive posts, links or images.\")), /*#__PURE__*/React.createElement(IonRow, {\n    id: \"forum-instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 33\n    }\n  }, \"4. Please do not post threads text in all CAPITALS since this is considered to be shouting.\")), /*#__PURE__*/React.createElement(IonRow, {\n    id: \"forum-instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 33\n    }\n  }, \"Anyone who breaks any of the above rules will be banned from the forum. Let's keep this forum safe for everyone.\")), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    id: \"forum-checkbox-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"2\",\n    sizeSm: \"2\",\n    className: \"ion-align-self-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonCheckbox, {\n    name: \"forumCheckbox\",\n    checked: checked,\n    onIonChange: e => setChecked(e.detail.checked),\n    ref: register({\n      validate: value => checked === true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"10\",\n    sizeSm: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonText, {\n    id: \"forum-checkbox-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 41\n    }\n  }, \"*I have read the above forum rules and agree to abide to the rules stated above. I understand that should I break any of the rules above, I may be banned from the forum.\"))), errors.forumCheckbox && errors.forumCheckbox.type === \"validate\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"errorMessage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 102\n    }\n  }, \"*Please check the above after reading the rules to proceed to the forum\")), /*#__PURE__*/React.createElement(IonRow, {\n    class: \"ion-justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    id: \"forumRulesBtn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 33\n    }\n  }, \"PROCEED TO FORUM\")))), /*#__PURE__*/React.createElement(IonModal, {\n    isOpen: showPostModal,\n    cssClass: \"post-question-modal\",\n    onDidDismiss: () => setShowPostModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonGrid, {\n    id: \"postQns-modal-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    style: {\n      paddingTop: '1%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    id: \"postQns-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 33\n    }\n  }, \"Post Question\")), /*#__PURE__*/React.createElement(IonItemDivider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(IonRow, {\n    id: \"postQns-modal-inputArea\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonTextarea, {\n    value: entry,\n    onIonChange: e => setEntry(e.detail.value),\n    rows: 11,\n    placeholder: \"Type your question here...\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-around\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    id: \"postQns-close-button\",\n    fill: \"outline\",\n    onClick: () => [setShowPostModal(false), setModalSegmentValue('')],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 33\n    }\n  }, \"CLOSE\"), /*#__PURE__*/React.createElement(IonButton, {\n    id: \"postQns-post-button\",\n    onClick: () => handlePost(\"question\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 33\n    }\n  }, \"POST\"))))), /*#__PURE__*/React.createElement(IonLoading, {\n    isOpen: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 17\n    }\n  })), agreedTOC === true ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IonFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonSegment, {\n    scrollable: true,\n    value: modalSegmentValue,\n    onIonChange: e => console.log(`${e.detail.value}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(IonSegmentButton, {\n    className: \"forum-segmentBtn\",\n    value: \"postQuestionBtn\",\n    onClick: () => [setShowPostModal(true), setModalSegmentValue('postQuestionBtn')],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: addCircleSharp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 182\n    }\n  })), /*#__PURE__*/React.createElement(IonSegmentButton, {\n    className: \"forum-segmentBtn\",\n    value: \"forumUserBtn\",\n    onClick: e => {\n      e.preventDefault();\n      history.push('/u/forumUser');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: personSharp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 166\n    }\n  })))))) : '');\n};\n\nexport default Forum;","map":{"version":3,"sources":["D:/BearBear/Coding_Projects/UOW-CSIT321 (FYP)/FYP20S313-Mobile/SIM-OpenHouse/src/pages/Forum/Forum.tsx"],"names":["IonButton","IonCheckbox","IonCol","IonContent","IonFooter","IonGrid","IonHeader","IonIcon","IonItem","IonItemDivider","IonLabel","IonList","IonLoading","IonModal","IonPage","IonRouterLink","IonRow","IonSearchbar","IonSegment","IonSegmentButton","IonText","IonTextarea","IonTitle","IonToolbar","React","useEffect","useState","useHistory","useForm","FontAwesomeIcon","faClock","faCommentAlt","addCircleSharp","personSharp","TopNav","ForumRules","Forum_FlagModal","db","useAuth","forumPostsDesc","Forum","userID","register","errors","handleSubmit","loading","setLoading","checked","setChecked","agreedTOC","setAgreedTOC","showPostModal","setShowPostModal","modalSegmentValue","setModalSegmentValue","entry","setEntry","questionEntries","setQuestionEntries","history","onSubmit","collection","doc","update","readRules","handlePost","postType","time","Date","name","get","then","data","firstName","lastName","docRef","getTime","toString","set","id","posterName","posterID","dateTime","toLocaleString","replace","noOfComments","deleted","reported","e","console","log","onSnapshot","snapshot","uRef","questions","forEach","user","entries","docChanges","change","unshift","commentCount","setTimeout","sort","map","question","index","detail","validate","value","forumCheckbox","type","paddingTop","preventDefault","push"],"mappings":"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","sourcesContent":["import { IonButton, IonCheckbox, IonCol, IonContent, IonFooter, IonGrid, IonHeader, IonIcon, IonItem, IonItemDivider, IonLabel, IonList, IonLoading, IonModal, IonPage, IonRouterLink, IonRow, IonSearchbar, IonSegment, IonSegmentButton, IonText, IonTextarea, IonTitle, IonToolbar } from \"@ionic/react\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faClock, faCommentAlt } from \"@fortawesome/free-regular-svg-icons\";\r\nimport { addCircleSharp, personSharp } from \"ionicons/icons\";\r\nimport firebase from \"firebase\";\r\n\r\nimport \"../../css/Global.css\";\r\nimport \"../../css/Forum.css\";\r\nimport TopNav from '../../components/TopNav';\r\nimport ForumRules from '../../components/Forum/ForumRules';\r\nimport Forum_FlagModal from \"../../components/Forum/Forum_FlagModal\";\r\nimport { db } from \"../../firebase\";\r\nimport { useAuth } from \"../../modules/auth\";\r\nimport { forumPostsDesc } from \"../../modules/compare\";\r\n\r\nconst Forum: React.FC = () => {\r\n    const { userID } = useAuth();\r\n    const { register, errors, handleSubmit } = useForm();\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [checked, setChecked] = useState(false);\r\n    const [agreedTOC, setAgreedTOC] = useState(true);\r\n    const [showPostModal, setShowPostModal] = useState(false);\r\n    const [modalSegmentValue, setModalSegmentValue] = useState('');\r\n    const [entry, setEntry] = useState(\"\");\r\n    const [questionEntries, setQuestionEntries] = useState([]);\r\n\r\n    let history = useHistory();\r\n\r\n    const onSubmit = async () => {\r\n        setLoading(true);\r\n        if (checked)\r\n            await db.collection('Forum').doc(userID).update({ readRules: true });\r\n        setLoading(false);\r\n    };\r\n\r\n    const handlePost = async (postType: any) => {\r\n        try {    \r\n            setLoading(true);\r\n            const time = new Date();\r\n            let name: string;\r\n\r\n            await db.collection('Students').doc(userID).get().then((doc: any) => {\r\n                name = doc.data().firstName + \" \" + doc.data().lastName;\r\n            });\r\n\r\n            if (postType == \"question\") {\r\n                const docRef = db.collection('Forum').doc(userID).collection('Questions').doc((time.getTime()).toString());\r\n                await docRef.set({\r\n                    id: +docRef.id,\r\n                    entry: entry,\r\n                    posterName: name!,\r\n                    posterID: userID,\r\n                    dateTime: time.toLocaleString().replace(/\\//g, \"-\"),\r\n                    noOfComments: 0,\r\n                    deleted: false,\r\n                    reported: false\r\n                });\r\n            } else if (postType == \"comment\") {\r\n                const docRef = db.collection('Forum').doc(userID).collection('Comments').doc((time.getTime()).toString());\r\n                await docRef.set({\r\n                    id: +docRef.id,\r\n                    entry: entry,\r\n                    posterName: name!,\r\n                    posterID: userID,\r\n                    dateTime: time.toLocaleString().replace(/\\//g, \"-\"),\r\n                    deleted: false,\r\n                    reported: false\r\n                });\r\n\r\n                /* const increment = firebase.firestore.FieldValue.increment(1);\r\n                await db.collection('Forum').doc(\"\").collection('Questions').doc(\"\").update({\r\n                    noOfComments: increment,\r\n                }); */\r\n            }\r\n        } catch(e) {\r\n            return console.log(e);\r\n        } finally {\r\n            setLoading(false);\r\n            setShowPostModal(false);\r\n            setEntry(\"\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        db.collection('Forum').doc(userID).onSnapshot((snapshot: any) => {\r\n            if (snapshot.data().readRules)\r\n                setAgreedTOC(true);\r\n            else\r\n                setAgreedTOC(false);\r\n        });\r\n\r\n        db.collection('Forum').get().then(uRef => {\r\n            const questions: any = [];\r\n            \r\n            uRef.forEach(user => {\r\n\r\n                {/* await db.collection('Forum').doc(user.id).collection('Questions').get().then(entries => {\r\n                    entries.forEach(doc => {\r\n                        questions.push({\r\n                            id: doc.id,\r\n                            entry: doc.data().entry,\r\n                            dateTime: doc.data().dateTime,\r\n                            user: doc.data().posterName,\r\n                            commentCount: doc.data().noOfComments\r\n                        });\r\n                    });\r\n                }); */}\r\n\r\n                {/* return db.collection('Forum').doc(user.id).collection('Questions').onSnapshot(entries => {\r\n                    entries.docChanges().forEach(change => {\r\n                        questions.push({\r\n                            id: change.doc.id,\r\n                            entry: change.doc.data().entry,\r\n                            dateTime: change.doc.data().dateTime,\r\n                            user: change.doc.data().posterName,\r\n                            commentCount: change.doc.data().noOfComments\r\n                        });\r\n                    })\r\n                }); */}\r\n                \r\n                return db.collection('Forum').doc(user.id).collection('Questions').onSnapshot(entries => {\r\n                    entries.docChanges().forEach(change => {\r\n                        questions.unshift({\r\n                            id: change.doc.id,\r\n                            entry: change.doc.data().entry,\r\n                            dateTime: change.doc.data().dateTime,\r\n                            user: change.doc.data().posterName,\r\n                            commentCount: change.doc.data().noOfComments\r\n                        });\r\n                    });\r\n                });\r\n            });\r\n\r\n            setTimeout(() => {\r\n                questions.sort(forumPostsDesc);\r\n                setQuestionEntries(questions);\r\n            }, 500);\r\n        });\r\n    }, []);\r\n\r\n    console.log(questionEntries)\r\n    \r\n    return (\r\n        <IonPage>\r\n            <IonHeader>\r\n                <TopNav title=\"Forum\" route=\"/u/home\" backarrow={ true } hamburger={ true }/>\r\n            </IonHeader>\r\n            \r\n            <IonContent fullscreen id=\"forum-content\">\r\n                {agreedTOC === true ?\r\n                    <>\r\n                    <IonGrid id=\"forum-searchbar-container\">\r\n                        <IonRow>\r\n                            <IonSearchbar id=\"forum-searchbar\" animated></IonSearchbar>\r\n                        </IonRow>\r\n                    </IonGrid>\r\n                        \r\n\r\n                    <IonGrid id=\"forum-heading-container\">\r\n                        <IonRow className=\"ion-justify-content-start\">\r\n                            <IonCol size=\"10\" className=\"ion-align-self-center forum-col\">\r\n                                <IonTitle id=\"forum-heading\">All Discussions</IonTitle>\r\n                            </IonCol>                            \r\n                            <IonCol size=\"2\" className=\"forum-col\">\r\n                                <ForumRules />\r\n                            </IonCol>\r\n                        </IonRow>\r\n                    </IonGrid>\r\n\r\n                    {/* Display all Questions */}\r\n                    {questionEntries.map((question: any, index) => (\r\n                        <IonList className=\"forum-container\" key={index}>\r\n                            <IonGrid>\r\n                                <IonRow>\r\n                                    <IonLabel>\r\n                                        <IonRouterLink href=\"/u/forumViewQuestion\"><IonText className=\"forum-question\">{question.entry}</IonText></IonRouterLink>\r\n                                    </IonLabel>\r\n                                </IonRow>\r\n                                <IonRow className=\"ion-justify-content-end\">\r\n                                    <IonText className=\"forum-question-details\" id=\"forum-userName\">~ {question.user}</IonText>\r\n                                </IonRow>\r\n                                <IonRow className=\"ion-align-items-end ion-justify-content-start\" id=\"forum-question-detail-container\">\r\n                                    <IonCol size=\"1\" className=\"forum-col ion-align-self-end\">\r\n                                        <FontAwesomeIcon icon={faClock} size=\"sm\"/>\r\n                                    </IonCol>\r\n                                    <IonCol size=\"6\" className=\"forum-col ion-align-self-end\">\r\n                                        <IonText className=\"forum-question-details\">{question.dateTime}</IonText>\r\n                                    </IonCol>\r\n                                    <IonCol size=\"1\" className=\"forum-col ion-align-self-end\">\r\n                                        <FontAwesomeIcon icon={faCommentAlt} size=\"sm\"/>\r\n                                    </IonCol>\r\n                                    <IonCol size=\"3\" className=\"forum-col ion-align-self-end\">\r\n                                        <IonText className=\"forum-question-details\">{question.commentCount}</IonText>\r\n                                    </IonCol>\r\n                                    <IonCol size=\"1\" className=\"ion-align-self-end forum-col\">\r\n                                        <Forum_FlagModal />\r\n                                    </IonCol>\r\n                                </IonRow>\r\n                            </IonGrid>\r\n                        </IonList>\r\n                    ))}\r\n\r\n                    {/* <IonList className=\"forum-container\">\r\n                        <IonGrid>\r\n                            <IonRow>\r\n                                <IonLabel>\r\n                                    <IonRouterLink href=\"/u/forumViewQuestion\"><IonText className=\"forum-question\">Anyone going to enrol for the Cyber Security (University of Wollongong) course?</IonText></IonRouterLink>\r\n                                </IonLabel>\r\n                            </IonRow>\r\n                            <IonRow className=\"ion-justify-content-end\">\r\n                                <IonText className=\"forum-question-details\" id=\"forum-userName\">~ Martin John</IonText>\r\n                            </IonRow>\r\n                            <IonRow className=\"ion-align-items-end ion-justify-content-start\" id=\"forum-question-detail-container\">\r\n                                <IonCol size=\"1\" className=\"forum-col ion-align-self-end\">\r\n                                    <FontAwesomeIcon icon={faClock} size=\"sm\"/>\r\n                                </IonCol>\r\n                                <IonCol size=\"6\" className=\"forum-col ion-align-self-end\">\r\n                                    <IonText className=\"forum-question-details\">21-11-2020, 5.30pm</IonText>\r\n                                </IonCol>\r\n                                <IonCol size=\"1\" className=\"forum-col ion-align-self-end\">\r\n                                    <FontAwesomeIcon icon={faCommentAlt} size=\"sm\"/>\r\n                                </IonCol>\r\n                                <IonCol size=\"3\" className=\"forum-col ion-align-self-end\">\r\n                                    <IonText className=\"forum-question-details\">0</IonText>\r\n                                </IonCol>\r\n                                <IonCol size=\"1\" className=\"ion-align-self-end forum-col\">\r\n                                    <Forum_FlagModal />\r\n                                </IonCol>\r\n                            </IonRow>\r\n                        </IonGrid>\r\n                    </IonList>\r\n\r\n                    <IonList className=\"forum-container\">\r\n                        <IonGrid>\r\n                            <IonRow>\r\n                                <IonLabel>\r\n                                <IonRouterLink href=\"/u/forumViewQuestion\"><IonText className=\"forum-question\">Where's the ATM?</IonText></IonRouterLink>\r\n                                </IonLabel>\r\n                            </IonRow>\r\n                            <IonRow className=\"ion-justify-content-end\">\r\n                                <IonText className=\"forum-question-details\" id=\"forum-userName\">~ John Tan</IonText>\r\n                            </IonRow>\r\n                            <IonRow className=\"ion-align-items-end ion-justify-content-start\" id=\"forum-question-detail-container\">\r\n                                <IonCol size=\"1\" className=\"forum-col ion-align-self-end\">\r\n                                    <FontAwesomeIcon icon={faClock} size=\"sm\"/>\r\n                                </IonCol>\r\n                                <IonCol size=\"6\" className=\"forum-col ion-align-self-end\">\r\n                                    <IonText className=\"forum-question-details\">21-11-2020, 10.00am</IonText>\r\n                                </IonCol>\r\n                                <IonCol size=\"1\" className=\"forum-col ion-align-self-end\">\r\n                                    <FontAwesomeIcon icon={faCommentAlt} size=\"sm\"/>\r\n                                </IonCol>\r\n                                <IonCol size=\"3\" className=\"forum-col ion-align-self-end\">\r\n                                    <IonText className=\"forum-question-details\">1</IonText>\r\n                                </IonCol>\r\n                                <IonCol size=\"1\" className=\"ion-align-self-end forum-col\">\r\n                                    <Forum_FlagModal />\r\n                                </IonCol>\r\n                            </IonRow>\r\n                        </IonGrid>\r\n                    </IonList> */}\r\n                    {/* End of Display all Questions */}\r\n                    </>\r\n\r\n                    : <form onSubmit={handleSubmit(onSubmit)}>        \r\n                        <IonGrid id=\"forumRulesGrid\">\r\n                            <IonRow id=\"important-notice\">\r\n                                <IonText>*Important Notice*</IonText>\r\n                            </IonRow>\r\n                            <IonRow id=\"forum-rules\">\r\n                                <IonText>Forum Rules</IonText>\r\n                            </IonRow>\r\n                            <IonRow id=\"forum-instructions\">\r\n                                <IonText>This forum is strictly for discussion about programmes offered by SIM and its partner universities and SIM\r\n                                    Open House. Please adhere to the following rules before posting in the forum.\r\n                                </IonText>\r\n                            </IonRow>\r\n                            <IonRow id=\"forum-instructions\">\r\n                                <IonText>1. Remain respectful of other users at all times.</IonText>\r\n                            </IonRow>\r\n                            <IonRow id=\"forum-instructions\">\r\n                                <IonText>2. Please do not spam. The definition of spam is an irrelevant or advertising post. Any post that is considered spam will be removed.</IonText>\r\n                            </IonRow>\r\n                            <IonRow id=\"forum-instructions\">\r\n                                <IonText>3. Do not post offensive posts, links or images.</IonText>\r\n                            </IonRow>\r\n                            <IonRow id=\"forum-instructions\">\r\n                                <IonText>4. Please do not post threads text in all CAPITALS since this is considered to be shouting.</IonText>\r\n                            </IonRow>\r\n                            <IonRow id=\"forum-instructions\">\r\n                                <IonText>Anyone who breaks any of the above rules will be banned from the forum. Let's keep this forum safe for everyone.</IonText>\r\n                            </IonRow>\r\n                            <IonRow className=\"ion-justify-content-center\">\r\n                                <IonItem id=\"forum-checkbox-container\">\r\n                                    <IonCol size=\"2\" sizeSm=\"2\" className=\"ion-align-self-center\">\r\n                                        <IonCheckbox name=\"forumCheckbox\" checked={checked} onIonChange={(e) => setChecked(e.detail.checked)} ref={register({ validate: (value) => checked === true })}></IonCheckbox>\r\n                                    </IonCol>\r\n                                    <IonCol size=\"10\" sizeSm=\"10\">\r\n                                        <IonText id=\"forum-checkbox-text\">\r\n                                        *I have read the above forum rules and agree to abide to the rules stated above. I understand that should I break any of the rules above, I may be banned from the forum.\r\n                                        </IonText>\r\n                                    </IonCol>\r\n                                </IonItem>\r\n                                {errors.forumCheckbox && errors.forumCheckbox.type === \"validate\" && <div className=\"errorMessage\">*Please check the above after reading the rules to proceed to the forum</div>}\r\n                            </IonRow>\r\n                            <IonRow class=\"ion-justify-content-center\">\r\n                                <IonButton id=\"forumRulesBtn\" type=\"submit\">PROCEED TO FORUM</IonButton>\r\n                            </IonRow>\r\n                        </IonGrid>\r\n                    </form>\r\n                }\r\n\r\n                {/* Post Question Modal */}\r\n                <IonModal isOpen={showPostModal} cssClass='post-question-modal' onDidDismiss={() => setShowPostModal(false)}>\r\n                    <IonContent>\r\n                        <IonGrid id=\"postQns-modal-container\">\r\n                            <IonRow style={{paddingTop: '1%'}}>\r\n                                <IonLabel id=\"postQns-title\">Post Question</IonLabel>\r\n                            </IonRow>\r\n                            <IonItemDivider></IonItemDivider>\r\n                            <IonRow id=\"postQns-modal-inputArea\">\r\n                                <IonTextarea value={entry} onIonChange={(e: any) => setEntry(e.detail.value)} rows={11} placeholder=\"Type your question here...\" required></IonTextarea>\r\n                            </IonRow>\r\n                            <IonRow className=\"ion-justify-content-around\">\r\n                                <IonButton id=\"postQns-close-button\" fill=\"outline\" onClick={() => [setShowPostModal(false), setModalSegmentValue('')]}>CLOSE</IonButton>\r\n                                <IonButton id=\"postQns-post-button\" onClick={() => handlePost(\"question\")}>POST</IonButton>\r\n                            </IonRow>\r\n                        </IonGrid>\r\n                    </IonContent>\r\n                </IonModal>\r\n                <IonLoading isOpen={loading} />\r\n            </IonContent>\r\n\r\n            {/* Bottom Tabs */}\r\n            {agreedTOC === true ? \r\n                <>\r\n                <IonFooter>\r\n                    <IonToolbar>\r\n                        <IonSegment scrollable value={modalSegmentValue} onIonChange={(e) => console.log(`${e.detail.value}`)}>\r\n                            <IonSegmentButton className=\"forum-segmentBtn\" value=\"postQuestionBtn\" onClick={() => [setShowPostModal(true), setModalSegmentValue('postQuestionBtn')]}><IonIcon icon={addCircleSharp} /></IonSegmentButton>\r\n                            <IonSegmentButton className=\"forum-segmentBtn\" value=\"forumUserBtn\" onClick={(e) => {e.preventDefault(); history.push('/u/forumUser');}}><IonIcon icon={personSharp} /></IonSegmentButton>\r\n                        </IonSegment>\r\n                    </IonToolbar>\r\n                </IonFooter>\r\n                </> : ''\r\n            }\r\n        </IonPage>\r\n    );\r\n};\r\n\r\nexport default Forum;"]},"metadata":{},"sourceType":"module"}