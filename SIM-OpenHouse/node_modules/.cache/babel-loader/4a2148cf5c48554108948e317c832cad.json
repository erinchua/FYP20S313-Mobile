{"ast":null,"code":"var _jsxFileName = \"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\src\\\\components\\\\MyScheduleContent.tsx\";\nimport { IonCol, IonGrid, IonRow, IonButton, IonAlert, IonLoading, IonModal, IonCard, IonCardHeader, IonCardTitle, IonCardContent, IonContent } from '@ionic/react';\nimport React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCalendarTimes } from '@fortawesome/free-regular-svg-icons';\nimport firebase from 'firebase';\nimport '../css/Global.css';\nimport '../css/GuidedTourContent.css';\nimport { db } from '../firebase';\nimport { useAuth } from '../modules/auth';\nimport { sortTimeAsc } from '../modules/compare';\nimport QRCode from \"qrcode.react\";\n\nconst MyScheduleContent = props => {\n  const {\n    userID\n  } = useAuth();\n  const {\n    firstName,\n    lastName,\n    email\n  } = props.studentDetails;\n  const [alert, setAlert] = useState({\n    confirmRemove: false,\n    removeSuccess: false,\n    loading: false\n  });\n  const [toBeDeleted, setToBeDeleted] = useState(\"\");\n  const [progInfo, setProgInfo] = useState({\n    talkName: \"\",\n    talkDate: \"\",\n    talkBy: \"\"\n  });\n  const [showProgQRCodeModal, setShowProgQRCodeModal] = useState(false);\n  const openHouseProgsDay1 = props.openHouseProgs.filter(item => {\n    return item.date === props.openhouseDates[0];\n  }).sort((a, b) => sortTimeAsc(a.startTime, b.startTime));\n  const openHouseProgsDay2 = props.openHouseProgs.filter(item => {\n    return item.date === props.openhouseDates[1];\n  }).sort((a, b) => sortTimeAsc(a.startTime, b.startTime));\n\n  const displayRemoveProgAlert = id => {\n    setAlert({\n      confirmRemove: true,\n      removeSuccess: false,\n      loading: false\n    });\n    setToBeDeleted(id);\n  };\n\n  const handleDelete = async item => {\n    try {\n      setAlert({\n        confirmRemove: false,\n        removeSuccess: false,\n        loading: true\n      });\n      const batch = db.batch();\n      const decrement = firebase.firestore.FieldValue.increment(-1);\n      const scheduler = db.collection('PersonalScheduler').doc(userID);\n      batch.update(scheduler, {\n        registeredProgrammes: firebase.firestore.FieldValue.arrayRemove(item)\n      });\n\n      if (item.split(\"-\")[0] === \"talk\") {\n        const progTalk = db.collection('ProgrammeTalks').doc(item);\n        batch.update(progTalk, {\n          noRegistered: decrement\n        });\n      }\n\n      await batch.commit();\n      setAlert({\n        confirmRemove: false,\n        removeSuccess: true,\n        loading: false\n      });\n    } catch (e) {\n      setAlert({\n        confirmRemove: false,\n        removeSuccess: false,\n        loading: false\n      });\n      return console.log(e);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IonAlert, {\n    isOpen: alert.confirmRemove,\n    cssClass: \"alertBox\",\n    mode: \"md\",\n    header: 'Confirm removal of programme from scheduler',\n    message: 'Are you sure you want to remove the programme from your schedule?',\n    buttons: [{\n      text: 'No',\n      role: 'cancel',\n      cssClass: 'secondary',\n      handler: () => {\n        setAlert({\n          confirmRemove: false,\n          removeSuccess: false,\n          loading: false\n        });\n      }\n    }, {\n      text: 'Yes',\n      handler: () => {\n        handleDelete(toBeDeleted);\n      }\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(IonAlert, {\n    isOpen: alert.removeSuccess,\n    onDidDismiss: () => setAlert({\n      confirmRemove: false,\n      removeSuccess: false,\n      loading: false\n    }),\n    cssClass: \"alertBox\",\n    mode: \"md\",\n    header: 'Successfully Removed Programme',\n    message: 'The programme has been successfully removed from My Schedule!',\n    buttons: ['Close'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(IonGrid, {\n    className: \"myScheduleGrid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableHeader ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, \"Time\"), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableHeader_ProgName ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, \"Programme Name\"), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableHeader ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, \"Venue\"), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableHeader_Btn ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, \"Check In\"), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableHeader_Btn ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  })), props.day1 === \"day1\" ? openHouseProgsDay1.length > 0 ? openHouseProgsDay1.map(prog => prog.id.split(\"-\")[0].toLowerCase() !== \"activity\" ? /*#__PURE__*/React.createElement(IonRow, {\n    key: prog.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableData ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 37\n    }\n  }, prog.startTime, \" to \", prog.endTime), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableData_ProgName ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 37\n    }\n  }, prog.name), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableData ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 37\n    }\n  }, prog.venue), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableData_QRCode ion-text-wrap\",\n    onClick: () => [setShowProgQRCodeModal(true), setProgInfo({\n      talkName: prog.name,\n      talkDate: prog.date,\n      talkBy: prog.uni\n    })],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 37\n    }\n  }, prog.id.split(\"-\")[0].toLowerCase() === \"talk\" ? \"View QR Code\" : null), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableData_BtnCol\",\n    id: \"removeCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    className: \"myScheduleTableData_Btn\",\n    id: \"removeBtn\",\n    size: \"small\",\n    style: {\n      marginTop: \"-5%\",\n      marginBottom: \"-5%\"\n    },\n    onClick: () => displayRemoveProgAlert(prog.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCalendarTimes,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 45\n    }\n  })))) : null) : /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }, \"You have not registered any programmes to your schedule.\") : null, props.day2 === \"day2\" ? openHouseProgsDay2.length > 0 ? openHouseProgsDay2.map(prog => prog.id.split(\"-\")[0].toLowerCase() !== \"activity\" ? /*#__PURE__*/React.createElement(IonRow, {\n    key: prog.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableData ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 37\n    }\n  }, prog.startTime, \" to \", prog.endTime), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableData_ProgName ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 37\n    }\n  }, prog.name), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableData ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 37\n    }\n  }, prog.venue), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableData_QRCode ion-text-wrap\",\n    onClick: () => [setShowProgQRCodeModal(true), setProgInfo({\n      talkName: prog.name,\n      talkDate: prog.date,\n      talkBy: prog.uni\n    })],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 37\n    }\n  }, prog.id.split(\"-\")[0].toLowerCase() === \"talk\" ? \"View QR Code\" : null), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleTableData_BtnCol\",\n    id: \"removeCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    className: \"myScheduleTableData_Btn\",\n    id: \"removeBtn\",\n    size: \"small\",\n    style: {\n      marginTop: \"-5%\",\n      marginBottom: \"-5%\"\n    },\n    onClick: () => displayRemoveProgAlert(prog.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCalendarTimes,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 45\n    }\n  })))) : null) : /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 29\n    }\n  }, \"You have not registered any programmes to your schedule.\") : null, /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-center openHouseActTableRow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    \"size-sizeSm\": \"12\",\n    className: \"openHouseActTableTitle ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  }, \"Open House Activities - Games & Activities\")), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    className: \"ion-text-wrap\",\n    id: \"myScheduleActTableHeader_BoothNo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, \"Booth No.\"), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableHeader_ProgName ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, \"Programme Name\"), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableHeader_Venue ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }, \"Venue\"), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableHeader_Points ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, \"Points\"), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableHeader_Btn ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  })), props.day1 === \"day1\" ? openHouseProgsDay1.length > 0 ? openHouseProgsDay1.map(prog => prog.id.split(\"-\")[0] === \"activity\" ? /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-center\",\n    key: prog.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableData_Booth ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 37\n    }\n  }, prog.boothNo), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableData_ProgName ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 37\n    }\n  }, prog.name), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableData_Venue ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 37\n    }\n  }, prog.venue), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableData_Points ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 37\n    }\n  }, prog.points), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableData_Btn ion-text-center\",\n    id: \"removeCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    className: \"myScheduleTableData_Btn\",\n    id: \"removeBtn\",\n    size: \"small\",\n    style: {\n      marginTop: \"-5%\",\n      marginBottom: \"-5%\"\n    },\n    onClick: () => displayRemoveProgAlert(prog.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCalendarTimes,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 45\n    }\n  })))) : null) : /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 29\n    }\n  }, \"You have not registered any activities to your schedule.\") : null, props.day2 === \"day2\" ? openHouseProgsDay2.length > 0 ? openHouseProgsDay2.map(prog => prog.id.split(\"-\")[0] === \"activity\" ? /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-center\",\n    key: prog.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableData_Booth ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 37\n    }\n  }, prog.boothNo), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableData_ProgName ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 37\n    }\n  }, prog.name), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableData_Venue ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 37\n    }\n  }, prog.venue), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableData_Points ion-text-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 37\n    }\n  }, prog.points), /*#__PURE__*/React.createElement(IonCol, {\n    className: \"myScheduleActTableData_Btn ion-text-center\",\n    id: \"removeCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    className: \"myScheduleTableData_Btn\",\n    id: \"removeBtn\",\n    size: \"small\",\n    style: {\n      marginTop: \"-5%\",\n      marginBottom: \"-5%\"\n    },\n    onClick: () => displayRemoveProgAlert(prog.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCalendarTimes,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 45\n    }\n  })))) : null) : /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 29\n    }\n  }, \"You have not registered any activities to your schedule.\") : null), /*#__PURE__*/React.createElement(IonLoading, {\n    isOpen: alert.loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(IonModal, {\n    isOpen: showProgQRCodeModal,\n    cssClass: \"progQRCodeModal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonContent, {\n    className: \"ion-text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonCard, {\n    className: \"progQRCodeModalCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonCardHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(IonCardTitle, {\n    className: \"ion-text-center progQRCodeModalCardHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 29\n    }\n  }, \"Programme QR Code\")), /*#__PURE__*/React.createElement(IonCardContent, {\n    className: \"ion-text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(QRCode, {\n    value: `${firstName},${lastName},${email},${progInfo.talkName},${progInfo.talkDate},${progInfo.talkBy}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 29\n    }\n  }), \" \")), /*#__PURE__*/React.createElement(IonButton, {\n    id: \"progQRCodeModalCloseBtn\",\n    onClick: () => setShowProgQRCodeModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 21\n    }\n  }, \"CLOSE\"))));\n};\n\nexport default MyScheduleContent;","map":{"version":3,"sources":["D:/BearBear/Coding_Projects/UOW-CSIT321 (FYP)/FYP20S313-Mobile/SIM-OpenHouse/src/components/MyScheduleContent.tsx"],"names":["IonCol","IonGrid","IonRow","IonButton","IonAlert","IonLoading","IonModal","IonCard","IonCardHeader","IonCardTitle","IonCardContent","IonContent","React","useState","FontAwesomeIcon","faCalendarTimes","firebase","db","useAuth","sortTimeAsc","QRCode","MyScheduleContent","props","userID","firstName","lastName","email","studentDetails","alert","setAlert","confirmRemove","removeSuccess","loading","toBeDeleted","setToBeDeleted","progInfo","setProgInfo","talkName","talkDate","talkBy","showProgQRCodeModal","setShowProgQRCodeModal","openHouseProgsDay1","openHouseProgs","filter","item","date","openhouseDates","sort","a","b","startTime","openHouseProgsDay2","displayRemoveProgAlert","id","handleDelete","batch","decrement","firestore","FieldValue","increment","scheduler","collection","doc","update","registeredProgrammes","arrayRemove","split","progTalk","noRegistered","commit","e","console","log","text","role","cssClass","handler","width","day1","length","map","prog","toLowerCase","endTime","name","venue","uni","marginTop","marginBottom","day2","boothNo","points"],"mappings":"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","sourcesContent":["import { IonCol, IonGrid, IonRow, IonButton, IonAlert, IonLoading, IonModal, IonCard, IonCardHeader, IonCardTitle, IonCardContent, IonContent } from '@ionic/react';\r\nimport React, { useState } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCalendarTimes } from '@fortawesome/free-regular-svg-icons';\r\nimport firebase from 'firebase';\r\n\r\nimport '../css/Global.css';\r\nimport '../css/GuidedTourContent.css';\r\nimport { db } from '../firebase';\r\nimport { useAuth } from '../modules/auth';\r\nimport { sortTimeAsc } from '../modules/compare';\r\nimport QRCode from \"qrcode.react\";\r\n\r\nconst MyScheduleContent: React.FC<{ day1: any, day2: any, openhouseDates: any, openHouseProgs: any, studentDetails: any }> = props => {\r\n    const { userID } = useAuth();\r\n    const { firstName, lastName, email } = props.studentDetails;\r\n\r\n    const [alert, setAlert] = useState({ confirmRemove: false, removeSuccess: false, loading: false });\r\n    const [toBeDeleted, setToBeDeleted] = useState(\"\");\r\n    const [progInfo, setProgInfo] = useState({ talkName: \"\", talkDate: \"\", talkBy: \"\" });\r\n    const [showProgQRCodeModal, setShowProgQRCodeModal] = useState(false);\r\n\r\n    const openHouseProgsDay1 = props.openHouseProgs.filter((item: any) => { return item.date === props.openhouseDates[0] }).sort((a: any, b: any) => sortTimeAsc(a.startTime, b.startTime));\r\n    const openHouseProgsDay2 = props.openHouseProgs.filter((item: any) => { return item.date === props.openhouseDates[1] }).sort((a: any, b: any) => sortTimeAsc(a.startTime, b.startTime));\r\n\r\n    const displayRemoveProgAlert = (id: any) => {\r\n        setAlert({ confirmRemove: true, removeSuccess: false, loading: false });\r\n        setToBeDeleted(id);\r\n    };\r\n\r\n    const handleDelete = async (item: any) => {\r\n        try {\r\n            setAlert({ confirmRemove: false, removeSuccess: false, loading: true });\r\n            const batch = db.batch();\r\n            const decrement = firebase.firestore.FieldValue.increment(-1);\r\n\r\n            const scheduler = db.collection('PersonalScheduler').doc(userID);\r\n            batch.update(scheduler, {\r\n                registeredProgrammes: firebase.firestore.FieldValue.arrayRemove(item)\r\n            });\r\n\r\n            if (item.split(\"-\")[0] === \"talk\") {\r\n                const progTalk = db.collection('ProgrammeTalks').doc(item);\r\n                batch.update(progTalk, {\r\n                    noRegistered: decrement\r\n                });\r\n            }\r\n\r\n            await batch.commit();\r\n            setAlert({ confirmRemove: false, removeSuccess: true, loading: false });\r\n        } catch (e) {\r\n            setAlert({ confirmRemove: false, removeSuccess: false, loading: false });\r\n            return console.log(e);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <IonAlert\r\n                isOpen={alert.confirmRemove}\r\n                cssClass='alertBox'\r\n                mode='md'\r\n                header={'Confirm removal of programme from scheduler'}\r\n                message={'Are you sure you want to remove the programme from your schedule?'}\r\n                buttons={[\r\n                    {\r\n                        text: 'No',\r\n                        role: 'cancel',\r\n                        cssClass: 'secondary',\r\n                        handler: () => {\r\n                            setAlert({ confirmRemove: false, removeSuccess: false, loading: false });\r\n                        }\r\n                    }, {\r\n                        text: 'Yes',\r\n                        handler: () => {\r\n                            handleDelete(toBeDeleted);\r\n                        }\r\n                    }]}\r\n            ></IonAlert>\r\n\r\n            <IonAlert\r\n                isOpen={alert.removeSuccess}\r\n                onDidDismiss={() => setAlert({ confirmRemove: false, removeSuccess: false, loading: false })}\r\n                cssClass='alertBox'\r\n                mode='md'\r\n                header={'Successfully Removed Programme'}\r\n                message={'The programme has been successfully removed from My Schedule!'}\r\n                buttons={['Close']}\r\n            ></IonAlert>\r\n\r\n            <IonGrid className=\"myScheduleGrid\">\r\n                <IonRow style={{ width: \"100%\" }}>\r\n                    <IonCol className=\"myScheduleTableHeader ion-text-wrap\">Time</IonCol>\r\n                    <IonCol className=\"myScheduleTableHeader_ProgName ion-text-wrap\">Programme Name</IonCol>\r\n                    <IonCol className=\"myScheduleTableHeader ion-text-wrap\">Venue</IonCol>\r\n                    <IonCol className=\"myScheduleTableHeader_Btn ion-text-wrap\">Check In</IonCol>\r\n                    <IonCol className=\"myScheduleTableHeader_Btn ion-text-wrap\"></IonCol>\r\n                </IonRow>\r\n\r\n                {props.day1 === \"day1\" ? (\r\n                    openHouseProgsDay1.length > 0 ? (\r\n                        openHouseProgsDay1.map((prog: any) => (\r\n                            prog.id.split(\"-\")[0].toLowerCase() !== \"activity\" ? (\r\n                                <IonRow key={prog.id}>\r\n                                    <IonCol className=\"myScheduleTableData ion-text-wrap\">{prog.startTime} to {prog.endTime}</IonCol>\r\n                                    <IonCol className=\"myScheduleTableData_ProgName ion-text-wrap\">{prog.name}</IonCol>\r\n                                    <IonCol className=\"myScheduleTableData ion-text-wrap\">{prog.venue}</IonCol>\r\n                                    <IonCol className=\"myScheduleTableData_QRCode ion-text-wrap\" onClick={() => [setShowProgQRCodeModal(true), setProgInfo({ talkName: prog.name, talkDate: prog.date, talkBy: prog.uni })]}>{prog.id.split(\"-\")[0].toLowerCase() === \"talk\" ? \"View QR Code\" : null}</IonCol>\r\n                                    <IonCol className=\"myScheduleTableData_BtnCol\" id=\"removeCol\">\r\n                                        <IonButton className=\"myScheduleTableData_Btn\" id=\"removeBtn\" size=\"small\" style={{ marginTop: \"-5%\", marginBottom: \"-5%\" }} onClick={() => displayRemoveProgAlert(prog.id)}>\r\n                                            <FontAwesomeIcon icon={faCalendarTimes} size=\"lg\" />\r\n                                        </IonButton>\r\n                                    </IonCol>\r\n                                </IonRow>\r\n                            ) : null\r\n                        ))\r\n                    ) : (\r\n                            <IonRow className=\"ion-justify-content-center\">You have not registered any programmes to your schedule.</IonRow>\r\n                        )) : null\r\n                }\r\n\r\n                {props.day2 === \"day2\" ? (\r\n                    openHouseProgsDay2.length > 0 ? (\r\n                        openHouseProgsDay2.map((prog: any) => (\r\n                            prog.id.split(\"-\")[0].toLowerCase() !== \"activity\" ? (\r\n                                <IonRow key={prog.id}>\r\n                                    <IonCol className=\"myScheduleTableData ion-text-wrap\">{prog.startTime} to {prog.endTime}</IonCol>\r\n                                    <IonCol className=\"myScheduleTableData_ProgName ion-text-wrap\">{prog.name}</IonCol>\r\n                                    <IonCol className=\"myScheduleTableData ion-text-wrap\">{prog.venue}</IonCol>\r\n                                    <IonCol className=\"myScheduleTableData_QRCode ion-text-wrap\" onClick={() => [setShowProgQRCodeModal(true), setProgInfo({ talkName: prog.name, talkDate: prog.date, talkBy: prog.uni })]}>{prog.id.split(\"-\")[0].toLowerCase() === \"talk\" ? \"View QR Code\" : null}</IonCol>\r\n                                    <IonCol className=\"myScheduleTableData_BtnCol\" id=\"removeCol\">\r\n                                        <IonButton className=\"myScheduleTableData_Btn\" id=\"removeBtn\" size=\"small\" style={{ marginTop: \"-5%\", marginBottom: \"-5%\" }} onClick={() => displayRemoveProgAlert(prog.id)}>\r\n                                            <FontAwesomeIcon icon={faCalendarTimes} size=\"lg\" />\r\n                                        </IonButton>\r\n                                    </IonCol>\r\n                                </IonRow>\r\n                            ) : null\r\n                        ))\r\n                    ) : (\r\n                            <IonRow className=\"ion-justify-content-center\">You have not registered any programmes to your schedule.</IonRow>\r\n                        )) : null\r\n                }\r\n\r\n                {/* My Schedule Table (Open House Activities) */}\r\n                <IonRow className=\"ion-justify-content-center openHouseActTableRow\">\r\n                    <IonCol size-sizeSm=\"12\" className=\"openHouseActTableTitle ion-text-wrap\">Open House Activities - Games & Activities</IonCol>\r\n                </IonRow>\r\n\r\n                {/* My Schedule Table (Open House Activities) Table Header*/}\r\n                <IonRow className=\"ion-justify-content-center\">\r\n                    <IonCol className=\"ion-text-wrap\" id=\"myScheduleActTableHeader_BoothNo\">Booth No.</IonCol>\r\n                    <IonCol className=\"myScheduleActTableHeader_ProgName ion-text-wrap\">Programme Name</IonCol>\r\n                    <IonCol className=\"myScheduleActTableHeader_Venue ion-text-wrap\">Venue</IonCol>\r\n                    <IonCol className=\"myScheduleActTableHeader_Points ion-text-wrap\">Points</IonCol>\r\n                    <IonCol className=\"myScheduleActTableHeader_Btn ion-text-wrap\"></IonCol>\r\n                </IonRow>\r\n\r\n                {props.day1 === \"day1\" ? (\r\n                    openHouseProgsDay1.length > 0 ? (\r\n                        openHouseProgsDay1.map((prog: any) => (\r\n                            prog.id.split(\"-\")[0] === \"activity\" ? (\r\n                                <IonRow className=\"ion-justify-content-center\" key={prog.id}>\r\n                                    <IonCol className=\"myScheduleActTableData_Booth ion-text-wrap\">{prog.boothNo}</IonCol>\r\n                                    <IonCol className=\"myScheduleActTableData_ProgName ion-text-wrap\">{prog.name}</IonCol>\r\n                                    <IonCol className=\"myScheduleActTableData_Venue ion-text-wrap\">{prog.venue}</IonCol>\r\n                                    <IonCol className=\"myScheduleActTableData_Points ion-text-wrap\">{prog.points}</IonCol>\r\n                                    <IonCol className=\"myScheduleActTableData_Btn ion-text-center\" id=\"removeCol\">\r\n                                        <IonButton className=\"myScheduleTableData_Btn\" id=\"removeBtn\" size=\"small\" style={{ marginTop: \"-5%\", marginBottom: \"-5%\" }} onClick={() => displayRemoveProgAlert(prog.id)}>\r\n                                            <FontAwesomeIcon icon={faCalendarTimes} size=\"lg\" />\r\n                                        </IonButton>\r\n                                    </IonCol>\r\n                                </IonRow>\r\n                            ) : null\r\n                        ))\r\n                    ) : (\r\n                            <IonRow className=\"ion-justify-content-center\">You have not registered any activities to your schedule.</IonRow>\r\n                        )) : null\r\n                }\r\n\r\n                {props.day2 === \"day2\" ? (\r\n                    openHouseProgsDay2.length > 0 ? (\r\n                        openHouseProgsDay2.map((prog: any) => (\r\n                            prog.id.split(\"-\")[0] === \"activity\" ? (\r\n                                <IonRow className=\"ion-justify-content-center\" key={prog.id}>\r\n                                    <IonCol className=\"myScheduleActTableData_Booth ion-text-wrap\">{prog.boothNo}</IonCol>\r\n                                    <IonCol className=\"myScheduleActTableData_ProgName ion-text-wrap\">{prog.name}</IonCol>\r\n                                    <IonCol className=\"myScheduleActTableData_Venue ion-text-wrap\">{prog.venue}</IonCol>\r\n                                    <IonCol className=\"myScheduleActTableData_Points ion-text-wrap\">{prog.points}</IonCol>\r\n                                    <IonCol className=\"myScheduleActTableData_Btn ion-text-center\" id=\"removeCol\">\r\n                                        <IonButton className=\"myScheduleTableData_Btn\" id=\"removeBtn\" size=\"small\" style={{ marginTop: \"-5%\", marginBottom: \"-5%\" }} onClick={() => displayRemoveProgAlert(prog.id)}>\r\n                                            <FontAwesomeIcon icon={faCalendarTimes} size=\"lg\" />\r\n                                        </IonButton>\r\n                                    </IonCol>\r\n                                </IonRow>\r\n                            ) : null\r\n                        ))\r\n                    ) : (\r\n                            <IonRow className=\"ion-justify-content-center\">You have not registered any activities to your schedule.</IonRow>\r\n                        )) : null\r\n                }\r\n            </IonGrid>\r\n            <IonLoading isOpen={alert.loading} />\r\n\r\n            {/* QR Code Modal */}\r\n            <IonModal isOpen={showProgQRCodeModal} cssClass=\"progQRCodeModal\">\r\n                <IonContent className=\"ion-text-center\">\r\n                    <IonCard className=\"progQRCodeModalCard\">\r\n                        <IonCardHeader>\r\n                            <IonCardTitle className=\"ion-text-center progQRCodeModalCardHeader\">Programme QR Code</IonCardTitle>\r\n                        </IonCardHeader>\r\n\r\n                        <IonCardContent className=\"ion-text-center\">\r\n                            <QRCode value={`${firstName},${lastName},${email},${progInfo.talkName},${progInfo.talkDate},${progInfo.talkBy}`} />{\" \"}\r\n                        </IonCardContent>\r\n                    </IonCard>\r\n\r\n                    <IonButton id=\"progQRCodeModalCloseBtn\" onClick={() => setShowProgQRCodeModal(false)}>CLOSE</IonButton>\r\n                </IonContent>\r\n            </IonModal>\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport default MyScheduleContent;"]},"metadata":{},"sourceType":"module"}