{"ast":null,"code":"var _jsxFileName = \"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\src\\\\pages\\\\QRScan.tsx\";\nimport { IonButton, IonCol, IonContent, IonGrid, IonHeader, IonPage, IonRow } from '@ionic/react';\nimport React from 'react';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\nimport firebase from 'firebase';\nimport '../css/Global.css';\nimport '../css/OpenHouseActivities.css';\nimport { db } from '../firebase';\nimport { useAuth } from '../auth';\nimport TopNav from '../components/TopNav';\n\nconst QRScan = () => {\n  const {\n    userID\n  } = useAuth();\n\n  const openScanner = async () => {\n    const data = await BarcodeScanner.scan();\n    console.log(`Barcode data: ${data.text}`);\n    let increment = firebase.firestore.FieldValue.increment(0);\n\n    switch (data.text) {\n      //change string accordingly before deployment\n      case \"plusTen\":\n        increment = firebase.firestore.FieldValue.increment(10);\n        break;\n\n      case \"minusTen\":\n        increment = firebase.firestore.FieldValue.increment(-10);\n        break;\n\n      default:\n    }\n\n    await db.collection('Students').doc(userID).update({\n      points: increment\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TopNav, {\n    title: \"QR Scanner\",\n    route: \"/u/home\",\n    backarrow: true,\n    hamburger: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonGrid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    color: \"dark\",\n    expand: \"block\",\n    onClick: openScanner,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }\n  }, \"Scan barcode\"))))));\n};\n\nexport default QRScan;","map":{"version":3,"sources":["D:/BearBear/Coding_Projects/UOW-CSIT321 (FYP)/FYP20S313-Mobile/SIM-OpenHouse/src/pages/QRScan.tsx"],"names":["IonButton","IonCol","IonContent","IonGrid","IonHeader","IonPage","IonRow","React","BarcodeScanner","firebase","db","useAuth","TopNav","QRScan","userID","openScanner","data","scan","console","log","text","increment","firestore","FieldValue","collection","doc","update","points"],"mappings":";AAAA,SAAUA,SAAV,EAAqBC,MAArB,EAA6BC,UAA7B,EAAyCC,OAAzC,EAAkDC,SAAlD,EAA6DC,OAA7D,EAAsEC,MAAtE,QAAoF,cAApF;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,+BAA/B;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEA,OAAO,mBAAP;AACA,OAAO,gCAAP;AACA,SAASC,EAAT,QAAmB,aAAnB;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AAEA,MAAMC,MAAgB,GAAG,MAAM;AAC7B,QAAM;AAAEC,IAAAA;AAAF,MAAaH,OAAO,EAA1B;;AAEA,QAAMI,WAAW,GAAG,YAAY;AAC9B,UAAMC,IAAI,GAAG,MAAMR,cAAc,CAACS,IAAf,EAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAa,iBAAgBH,IAAI,CAACI,IAAK,EAAvC;AAEA,QAAIC,SAAS,GAAGZ,QAAQ,CAACa,SAAT,CAAmBC,UAAnB,CAA8BF,SAA9B,CAAwC,CAAxC,CAAhB;;AAEA,YAAQL,IAAI,CAACI,IAAb;AACE;AACA,WAAK,SAAL;AACEC,QAAAA,SAAS,GAAGZ,QAAQ,CAACa,SAAT,CAAmBC,UAAnB,CAA8BF,SAA9B,CAAwC,EAAxC,CAAZ;AACA;;AACF,WAAK,UAAL;AACEA,QAAAA,SAAS,GAAGZ,QAAQ,CAACa,SAAT,CAAmBC,UAAnB,CAA8BF,SAA9B,CAAwC,CAAC,EAAzC,CAAZ;AACA;;AACF;AARF;;AAUA,UAAMX,EAAE,CAACc,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8BX,MAA9B,EAAsCY,MAAtC,CAA6C;AACjDC,MAAAA,MAAM,EAAEN;AADyC,KAA7C,CAAN;AAGD,GAnBD;;AAqBA,sBACM,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,YAAd;AAA2B,IAAA,KAAK,EAAC,SAAjC;AAA2C,IAAA,SAAS,EAAG,IAAvD;AAA8D,IAAA,SAAS,EAAG,IAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAKE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,4BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,MAAjB;AAAwB,IAAA,MAAM,EAAC,OAA/B;AAAuC,IAAA,OAAO,EAAEN,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADF,CADF,CADF,CALF,CADN;AAkBD,CA1CD;;AA4CA,eAAeF,MAAf","sourcesContent":["import {  IonButton, IonCol, IonContent, IonGrid, IonHeader, IonPage, IonRow } from '@ionic/react';\r\nimport React from 'react';\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\r\nimport firebase from 'firebase';\r\n\r\nimport '../css/Global.css';\r\nimport '../css/OpenHouseActivities.css';\r\nimport { db } from '../firebase';\r\nimport { useAuth } from '../auth';\r\nimport TopNav from '../components/TopNav';\r\n\r\nconst QRScan: React.FC = () => {\r\n  const { userID } = useAuth();\r\n\r\n  const openScanner = async () => {\r\n    const data = await BarcodeScanner.scan();\r\n    console.log(`Barcode data: ${data.text}`);\r\n\r\n    let increment = firebase.firestore.FieldValue.increment(0);\r\n\r\n    switch (data.text) {\r\n      //change string accordingly before deployment\r\n      case \"plusTen\":\r\n        increment = firebase.firestore.FieldValue.increment(10);\r\n        break;\r\n      case \"minusTen\":\r\n        increment = firebase.firestore.FieldValue.increment(-10);\r\n        break;\r\n      default:\r\n    }\r\n    await db.collection('Students').doc(userID).update({\r\n      points: increment,\r\n    })\r\n  };\r\n\r\n  return (\r\n        <IonPage>\r\n          <IonHeader>\r\n            <TopNav title=\"QR Scanner\" route=\"/u/home\" backarrow={ true } hamburger={ true }/>\r\n          </IonHeader>\r\n\r\n          <IonContent>\r\n            <IonGrid>\r\n              <IonRow className=\"ion-justify-content-center\">\r\n                <IonCol>\r\n                  <IonButton color=\"dark\" expand=\"block\" onClick={openScanner}>Scan barcode</IonButton>\r\n                </IonCol>\r\n              </IonRow>\r\n            </IonGrid>\r\n          </IonContent>\r\n        </IonPage>\r\n        \r\n  );\r\n};\r\n\r\nexport default QRScan;\r\n"]},"metadata":{},"sourceType":"module"}