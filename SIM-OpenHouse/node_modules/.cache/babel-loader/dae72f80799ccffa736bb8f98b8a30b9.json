{"ast":null,"code":"var _jsxFileName = \"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\src\\\\pages\\\\MyProfile.tsx\";\nimport { IonAlert, IonButton, IonCol, IonContent, IonGrid, IonHeader, IonInput, IonItem, IonLoading, IonModal, IonPage, IonRow, IonSelect, IonSelectOption } from '@ionic/react';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAddressCard, faEnvelope, faMobileAlt, faBirthdayCake, faUserGraduate, faGlobe, faLock, faGift } from '@fortawesome/free-solid-svg-icons';\nimport { faEdit } from '@fortawesome/free-regular-svg-icons';\nimport firebase from 'firebase';\nimport '../css/Global.css';\nimport '../css/MyProfile.css';\nimport TopNav from '../components/TopNav';\nimport { db } from '../firebase';\nimport { useAuth } from '../modules/auth';\nimport { auth } from '../firebase';\n\nconst MyProfile = () => {\n  const {\n    userID\n  } = useAuth();\n  const {\n    register,\n    handleSubmit,\n    errors,\n    watch\n  } = useForm();\n  const [loading, setLoading] = useState(true);\n  const [student, setStudent] = useState({});\n  const [fieldDisable, setFieldDisable] = useState(true);\n  const [profileUi, setProfileUi] = useState({\n    profileNav: true,\n    editProfile: true,\n    changePassword: true\n  });\n  const [alert, setAlert] = useState({\n    success: false,\n    error: false\n  });\n  {\n    /* Edit Profile */\n  }\n\n  const editMode = () => {\n    setFieldDisable(false);\n    setProfileUi({\n      profileNav: false,\n      editProfile: false,\n      changePassword: false\n    });\n  };\n\n  const handleEditProfile = async data => {\n    try {\n      setLoading(true);\n      await db.collection('Students').doc(userID).update({\n        contactNo: data.contactNo,\n        highestQualification: data.highestQualification\n      });\n      setAlert({\n        success: true,\n        error: false\n      });\n    } catch (e) {\n      return console.log(e);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  {\n    /* Change Password Modal & Alert */\n  }\n  const [changePasswordModal, setChangePasswordModal] = useState(false);\n  const currentPasswordRef = useRef({});\n  const newPasswordRef = useRef({});\n  currentPasswordRef.current = watch(\"currentPassword\", \"\");\n  newPasswordRef.current = watch(\"newPassword\", \"\");\n\n  const handleChangePassword = async data => {\n    try {\n      setLoading(true);\n\n      if (data.currentPassword && data.newPassword) {\n        const user = auth.currentUser;\n        const cred = firebase.auth.EmailAuthProvider.credential(user === null || user === void 0 ? void 0 : user.email, data.currentPassword);\n        await (user === null || user === void 0 ? void 0 : user.reauthenticateWithCredential(cred).then(async uCred => {\n          console.log(\"reauthenticated\", uCred);\n          await user.updatePassword(data.newPassword).then(() => console.log(\"password updated\"));\n        }));\n        setAlert({\n          success: true,\n          error: false\n        });\n      } else {\n        throw data;\n      }\n    } catch (e) {\n      setAlert({\n        success: false,\n        error: true\n      });\n      return console.log(e);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    let studentInfo = {};\n    db.collection('Games').doc(userID).get().then(ref => {\n      if (ref.exists) {\n        var _ref$data;\n\n        studentInfo.points = (_ref$data = ref.data()) === null || _ref$data === void 0 ? void 0 : _ref$data.points;\n      }\n    });\n    return db.collection('Students').doc(userID).onSnapshot(student => {\n      if (student.exists) {\n        var _student$data, _student$data2, _student$data3, _student$data4, _student$data5, _student$data6, _student$data7;\n\n        studentInfo.id = student.id;\n        studentInfo.firstName = (_student$data = student.data()) === null || _student$data === void 0 ? void 0 : _student$data.firstName;\n        studentInfo.lastName = (_student$data2 = student.data()) === null || _student$data2 === void 0 ? void 0 : _student$data2.lastName;\n        studentInfo.dob = (_student$data3 = student.data()) === null || _student$data3 === void 0 ? void 0 : _student$data3.dob;\n        studentInfo.email = (_student$data4 = student.data()) === null || _student$data4 === void 0 ? void 0 : _student$data4.email;\n        studentInfo.contact = (_student$data5 = student.data()) === null || _student$data5 === void 0 ? void 0 : _student$data5.contactNo;\n        studentInfo.nationality = (_student$data6 = student.data()) === null || _student$data6 === void 0 ? void 0 : _student$data6.nationality;\n        studentInfo.highestQual = (_student$data7 = student.data()) === null || _student$data7 === void 0 ? void 0 : _student$data7.highestQualification;\n      }\n\n      setTimeout(() => {\n        setStudent(studentInfo);\n        setLoading(false);\n      }, 500);\n    });\n  }, []); //console.log(student)\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonModal, {\n    isOpen: changePasswordModal,\n    cssClass: \"editPasswordModal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonContent, {\n    fullscreen: true,\n    className: \"editPasswordModalContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonGrid, {\n    id: \"editPasswordModalGrid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(handleChangePassword),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    className: \"editPasswordModalRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"12\",\n    sizeSm: \"12\",\n    className: \"editPasswordModalCol\",\n    class: \"ion-text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    className: \"editPasswordModalItem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonInput, {\n    type: \"password\",\n    className: \"passwordInput\",\n    name: \"currentPassword\",\n    placeholder: \"Current Password\",\n    ref: register({\n      required: true,\n      minLength: 8,\n      pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[.,/<>#^~`@$!%*?&])[A-Za-z\\d.,/<>#~`^@$!%*?&]{8,}$/\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 41\n    }\n  })), errors.currentPassword && errors.currentPassword.type === \"required\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 110\n    }\n  }, \"Current Password is required!\"), errors.currentPassword && errors.currentPassword.type === \"minLength\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 111\n    }\n  }, \"Password has to be at least 8 characters and must contain 1 uppercase, 1 lowercase, 1 number and 1 special character\"), errors.currentPassword && errors.currentPassword.type === \"pattern\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 109\n    }\n  }, \"Password has to be at least 8 characters and must contain 1 uppercase, 1 lowercase, 1 number and 1 special character\"))), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"editPasswordModalRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"12\",\n    sizeSm: \"12\",\n    className: \"editPasswordModalCol\",\n    class: \"ion-text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    className: \"editPasswordModalItem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonInput, {\n    type: \"password\",\n    className: \"passwordInput\",\n    name: \"newPassword\",\n    placeholder: \"New Password\",\n    ref: register({\n      required: true,\n      minLength: 8,\n      pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[.,/<>#^~`@$!%*?&])[A-Za-z\\d.,/<>#~`^@$!%*?&]{8,}$/,\n      validate: newPassword => newPassword !== currentPasswordRef.current\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 41\n    }\n  })), errors.newPassword && errors.newPassword.type === \"required\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 102\n    }\n  }, \"New Password is required!\"), errors.newPassword && errors.newPassword.type === \"minLength\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 103\n    }\n  }, \"New Password has to be at least 8 characters and must contain 1 uppercase, 1 lowercase, 1 number and 1 special character\"), errors.newPassword && errors.newPassword.type === \"pattern\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 101\n    }\n  }, \"New Password has to be at least 8 characters and must contain 1 uppercase, 1 lowercase, 1 number and 1 special character\"), errors.newPassword && errors.newPassword.type === \"validate\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 102\n    }\n  }, \"New Password cannot be the same as Current Password!\"))), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"editPasswordModalRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"12\",\n    sizeSm: \"12\",\n    className: \"editPasswordModalCol\",\n    class: \"ion-text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    className: \"editPasswordModalItem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonInput, {\n    type: \"password\",\n    className: \"passwordInput\",\n    name: \"confirmNewPassword\",\n    placeholder: \"Confirm New Password\",\n    ref: register({\n      required: true,\n      minLength: 8,\n      pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[.,/<>#^~`@$!%*?&])[A-Za-z\\d.,/<>#~`^@$!%*?&]{8,}$/,\n      validate: confirmNewPassword => confirmNewPassword === newPasswordRef.current\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 41\n    }\n  })), errors.confirmNewPassword && errors.confirmNewPassword.type === \"required\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 116\n    }\n  }, \"Confirm New Password is required!\"), errors.confirmNewPassword && errors.confirmNewPassword.type === \"minLength\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 117\n    }\n  }, \"Passwords do not match!\"), errors.confirmNewPassword && errors.confirmNewPassword.type === \"pattern\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 115\n    }\n  }, \"Passwords do not match!\"), errors.confirmNewPassword && errors.confirmNewPassword.type === \"validate\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 116\n    }\n  }, \"Passwords do not match!\"))), /*#__PURE__*/React.createElement(IonRow, {\n    class: \"ion-align-items-center\",\n    style: {\n      marginTop: \"5%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"4\",\n    sizeSm: \"4\",\n    class: \"ion-text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    className: \"editPasswordBtn\",\n    onClick: () => setChangePasswordModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 37\n    }\n  }, \"CANCEL\")), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"8\",\n    sizeSm: \"8\",\n    class: \"ion-text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    className: \"editPasswordBtn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 37\n    }\n  }, \"CHANGE PASSWORD\"))))))), /*#__PURE__*/React.createElement(IonAlert, {\n    isOpen: alert.success,\n    onDidDismiss: () => setAlert({\n      success: false,\n      error: false\n    }),\n    cssClass: \"alertBox\",\n    mode: \"md\",\n    header: 'Successfully Changed Password',\n    message: 'Password has been successfully changed!',\n    buttons: [{\n      text: 'Close',\n      handler: () => {\n        /* reset({\r\n            currentPassword: \"\",\r\n            newPassword: \"\",\r\n            confirmNewPassword: \"\"\r\n        }); */\n        setChangePasswordModal(false);\n      }\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, profileUi.profileNav ? /*#__PURE__*/React.createElement(TopNav, {\n    title: \"My Profile\",\n    route: \"/u/home\",\n    backarrow: true,\n    hamburger: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(TopNav, {\n    title: \"Edit My Profile\",\n    route: \"/u/home\",\n    backarrow: false,\n    hamburger: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(IonContent, {\n    fullscreen: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonGrid, {\n    id: \"profileGrid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(handleEditProfile),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 25\n    }\n  }, profileUi.editProfile ? /*#__PURE__*/React.createElement(IonRow, {\n    id: \"editProfileBtnRow\",\n    class: \"ion-align-items-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"12\",\n    sizeSm: \"12\",\n    class: \"ion-text-right\",\n    id: \"editProfileBtnCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    id: \"editProfileBtn\",\n    onClick: editMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 41\n    }\n  }, \"EDIT PROFILE\"))) : null, /*#__PURE__*/React.createElement(IonRow, {\n    id: \"qrCodeRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"12\",\n    sizeSm: \"12\",\n    class: \"ion-text-center\",\n    id: \"qrCodeCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    id: \"qrCode\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 37\n    }\n  }, \"QR Code here\"))), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"profileRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"2\",\n    sizeSm: \"2\",\n    class: \"ion-text-center\",\n    className: \"profileIconCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAddressCard,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"5\",\n    sizeSm: \"5\",\n    class: \"ion-text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonInput, {\n    value: student.firstName,\n    name: \"firstName\",\n    readonly: true,\n    disabled: true,\n    className: \"readOnlyIonInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"5\",\n    sizeSm: \"5\",\n    class: \"ion-text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonInput, {\n    value: student.lastName,\n    name: \"lastName\",\n    readonly: true,\n    disabled: true,\n    className: \"readOnlyIonInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"profileRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"2\",\n    sizeSm: \"2\",\n    class: \"ion-text-center\",\n    className: \"profileIconCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEnvelope,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"10\",\n    sizeSm: \"10\",\n    class: \"ion-text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonInput, {\n    value: student.email,\n    name: \"email\",\n    readonly: true,\n    disabled: true,\n    className: \"readOnlyIonInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"profileRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"2\",\n    sizeSm: \"2\",\n    class: \"ion-text-center\",\n    className: \"profileIconCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faMobileAlt,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"10\",\n    sizeSm: \"10\",\n    class: \"ion-text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonInput, {\n    value: student.contact,\n    type: \"tel\",\n    name: \"contactNo\",\n    readonly: fieldDisable,\n    disabled: fieldDisable,\n    className: \"readOnlyIonInput\",\n    id: \"contactNoField\",\n    minlength: 8,\n    maxlength: 8,\n    ref: register({\n      required: true,\n      minLength: 8,\n      maxLength: 8,\n      pattern: /(6|8|9)\\d{7}/,\n      min: 8,\n      max: 8\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 33\n    }\n  }), errors.contactNo && errors.contactNo.type === \"required\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 98\n    }\n  }, \"Contact number is required!\"), errors.contactNo && errors.contactNo.type === \"minLength\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 99\n    }\n  }, \"Contact number consist of only 8 digits\"), errors.contactNo && errors.contactNo.type === \"maxLength\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 99\n    }\n  }, \"Contact number consist of only 8 digits\"), errors.contactNo && errors.contactNo.type === \"pattern\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 97\n    }\n  }, \"Please enter a valid Contact No.\"))), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"profileRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"2\",\n    sizeSm: \"2\",\n    class: \"ion-text-center\",\n    className: \"profileIconCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faBirthdayCake,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"10\",\n    sizeSm: \"10\",\n    class: \"ion-text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonInput, {\n    value: student.dob,\n    name: \"dob\",\n    readonly: true,\n    disabled: true,\n    className: \"readOnlyIonInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"profileRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"2\",\n    sizeSm: \"2\",\n    class: \"ion-text-center\",\n    className: \"profileIconCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faUserGraduate,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"10\",\n    sizeSm: \"10\",\n    class: \"ion-text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonSelect, {\n    value: student.highestQual,\n    id: \"highestQualSelect\",\n    className: \"readOnlyIonInput\",\n    name: \"highestQualification\",\n    disabled: fieldDisable,\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonSelectOption, {\n    value: \"'A' Level\",\n    className: \"highestQualSelectOption\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 41\n    }\n  }, \"'A' Level\"), /*#__PURE__*/React.createElement(IonSelectOption, {\n    value: \"'O' Level\",\n    className: \"highestQualSelectOption\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 41\n    }\n  }, \"'O' Level\"), /*#__PURE__*/React.createElement(IonSelectOption, {\n    value: \"Degree\",\n    className: \"highestQualSelectOption\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 41\n    }\n  }, \"Degree\"), /*#__PURE__*/React.createElement(IonSelectOption, {\n    value: \"Diploma\",\n    className: \"highestQualSelectOption\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 41\n    }\n  }, \"Diploma\")))), /*#__PURE__*/React.createElement(IonRow, {\n    className: \"profileRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"2\",\n    sizeSm: \"2\",\n    class: \"ion-text-center\",\n    className: \"profileIconCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faGlobe,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"10\",\n    sizeSm: \"10\",\n    class: \"ion-text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonInput, {\n    value: student.nationality,\n    name: \"nationality\",\n    readonly: true,\n    disabled: true,\n    className: \"readOnlyIonInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 37\n    }\n  }))), profileUi.editProfile ? /*#__PURE__*/React.createElement(IonRow, {\n    className: \"profileRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"2\",\n    sizeSm: \"2\",\n    class: \"ion-text-center\",\n    className: \"profileIconCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faGift,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"10\",\n    sizeSm: \"10\",\n    class: \"ion-text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonInput, {\n    value: student.points,\n    name: \"pointsEarned\",\n    readonly: true,\n    disabled: true,\n    className: \"readOnlyIonInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 41\n    }\n  }))) : null, profileUi.changePassword ? /*#__PURE__*/React.createElement(IonRow, {\n    className: \"profileRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"2\",\n    sizeSm: \"2\",\n    class: \"ion-text-center\",\n    className: \"profileIconCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faLock,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"8\",\n    sizeSm: \"8\",\n    class: \"ion-text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonInput, {\n    type: \"password\",\n    value: \"password\",\n    name: \"password\",\n    readonly: true,\n    disabled: true,\n    className: \"readOnlyIonInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(IonCol, {\n    size: \"2\",\n    sizeSm: \"2\",\n    class: \"ion-text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    id: \"editPasswordBtn\",\n    fill: \"clear\",\n    size: \"default\",\n    onClick: () => setChangePasswordModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEdit,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 45\n    }\n  })))) : /*#__PURE__*/React.createElement(IonRow, {\n    id: \"editProfileBtnRow\",\n    class: \"ion-align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    size: \"12\",\n    sizeSm: \"12\",\n    class: \"ion-text-center\",\n    id: \"saveEditProfileBtnCol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(IonAlert, {\n    isOpen: alert.success,\n    onDidDismiss: () => setAlert({\n      success: false,\n      error: false\n    }),\n    cssClass: \"alertBox\",\n    header: 'Profile Updated',\n    message: 'Your profile has been successfully updated!',\n    buttons: [{\n      text: 'CLOSE',\n      handler: () => {\n        setFieldDisable(true);\n        setProfileUi({\n          profileNav: true,\n          editProfile: true,\n          changePassword: true\n        });\n      }\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(IonAlert, {\n    isOpen: alert.error,\n    onDidDismiss: () => setAlert({\n      success: false,\n      error: false\n    }),\n    cssClass: \"alertBox\",\n    header: 'Error Occurred!',\n    message: 'Please enter the correct information for the fields.',\n    buttons: ['OK'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(IonButton, {\n    id: \"saveEditProfileBtn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 41\n    }\n  }, \"SAVE\"))))), /*#__PURE__*/React.createElement(IonLoading, {\n    isOpen: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default MyProfile;","map":{"version":3,"sources":["D:/BearBear/Coding_Projects/UOW-CSIT321 (FYP)/FYP20S313-Mobile/SIM-OpenHouse/src/pages/MyProfile.tsx"],"names":["IonAlert","IonButton","IonCol","IonContent","IonGrid","IonHeader","IonInput","IonItem","IonLoading","IonModal","IonPage","IonRow","IonSelect","IonSelectOption","React","useEffect","useRef","useState","useForm","FontAwesomeIcon","faAddressCard","faEnvelope","faMobileAlt","faBirthdayCake","faUserGraduate","faGlobe","faLock","faGift","faEdit","firebase","TopNav","db","useAuth","auth","MyProfile","userID","register","handleSubmit","errors","watch","loading","setLoading","student","setStudent","fieldDisable","setFieldDisable","profileUi","setProfileUi","profileNav","editProfile","changePassword","alert","setAlert","success","error","editMode","handleEditProfile","data","collection","doc","update","contactNo","highestQualification","e","console","log","changePasswordModal","setChangePasswordModal","currentPasswordRef","newPasswordRef","current","handleChangePassword","currentPassword","newPassword","user","currentUser","cred","EmailAuthProvider","credential","email","reauthenticateWithCredential","then","uCred","updatePassword","studentInfo","get","ref","exists","points","onSnapshot","id","firstName","lastName","dob","contact","nationality","highestQual","setTimeout","required","minLength","pattern","type","validate","confirmNewPassword","marginTop","text","handler","maxLength","min","max"],"mappings":"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","sourcesContent":["import { IonAlert, IonButton, IonCol, IonContent, IonGrid, IonHeader, IonInput, IonItem, IonLoading, IonModal, IonPage, IonRow, IonSelect, IonSelectOption } from '@ionic/react';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAddressCard, faEnvelope, faMobileAlt, faBirthdayCake, faUserGraduate, faGlobe, faLock, faGift } from '@fortawesome/free-solid-svg-icons';\r\nimport { faEdit } from '@fortawesome/free-regular-svg-icons';\r\nimport firebase from 'firebase';\r\n\r\nimport '../css/Global.css';\r\nimport '../css/MyProfile.css';\r\nimport TopNav from '../components/TopNav';\r\nimport { db } from '../firebase';\r\nimport { useAuth } from '../modules/auth';\r\nimport { auth } from '../firebase';\r\n\r\n\r\nconst MyProfile: React.FC = () => {\r\n    const { userID } = useAuth();\r\n    const { register, handleSubmit, errors, watch } = useForm();\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [student, setStudent] = useState<any>({});\r\n    \r\n    const [fieldDisable, setFieldDisable] = useState(true);\r\n    const [profileUi, setProfileUi] = useState({ profileNav: true, editProfile: true, changePassword: true });\r\n    const [alert, setAlert] = useState({ success: false, error: false });\r\n\r\n    {/* Edit Profile */}\r\n    const editMode = () => {\r\n        setFieldDisable(false);\r\n        setProfileUi({ profileNav: false, editProfile: false, changePassword: false });\r\n    };\r\n\r\n    const handleEditProfile = async (data: any) => {\r\n        try {\r\n            setLoading(true);\r\n            await db.collection('Students').doc(userID).update({\r\n                contactNo: data.contactNo,\r\n                highestQualification: data.highestQualification,\r\n            });\r\n            setAlert({ success: true, error: false });\r\n        } catch(e) {\r\n            return console.log(e);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    {/* Change Password Modal & Alert */}\r\n    const [changePasswordModal, setChangePasswordModal] = useState(false);\r\n\r\n    const currentPasswordRef = useRef({});\r\n    const newPasswordRef = useRef({});\r\n    currentPasswordRef.current = watch(\"currentPassword\", \"\");\r\n    newPasswordRef.current = watch(\"newPassword\", \"\");\r\n\r\n    const handleChangePassword = async (data: any) => {\r\n        try {\r\n            setLoading(true);\r\n            if (data.currentPassword && data.newPassword) {\r\n                const user = auth.currentUser;\r\n                const cred = firebase.auth.EmailAuthProvider.credential(user?.email!, data.currentPassword);\r\n                await user?.reauthenticateWithCredential(cred).then(async (uCred) => {\r\n                    console.log(\"reauthenticated\", uCred)\r\n                    await user!.updatePassword(data.newPassword).then(() => console.log(\"password updated\"));\r\n                });\r\n                setAlert({ success: true, error: false });\r\n            } else {\r\n                throw data;\r\n            }\r\n        } catch(e) {\r\n            setAlert({ success: false, error: true });\r\n            return console.log(e);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        let studentInfo: any = {}\r\n\r\n        db.collection('Games').doc(userID).get().then(ref => {\r\n            if (ref.exists) {\r\n                studentInfo.points = ref.data()?.points;\r\n            }\r\n        });\r\n\r\n        return db.collection('Students').doc(userID).onSnapshot(student => {\r\n            if (student.exists) {\r\n                studentInfo.id = student.id;\r\n                studentInfo.firstName = student.data()?.firstName;\r\n                studentInfo.lastName = student.data()?.lastName;\r\n                studentInfo.dob = student.data()?.dob;\r\n                studentInfo.email = student.data()?.email;\r\n                studentInfo.contact = student.data()?.contactNo;\r\n                studentInfo.nationality = student.data()?.nationality;\r\n                studentInfo.highestQual = student.data()?.highestQualification;\r\n            }\r\n        \r\n            setTimeout(() => {\r\n                setStudent(studentInfo);\r\n                setLoading(false);\r\n            }, 500);\r\n        });\r\n    }, []);\r\n\r\n    //console.log(student)\r\n    \r\n    return(\r\n        <React.Fragment>\r\n            {/* Change Password Modal */}\r\n            <IonModal isOpen={changePasswordModal} cssClass='editPasswordModal'>\r\n                <IonContent fullscreen className=\"editPasswordModalContent\">\r\n                    <IonGrid id=\"editPasswordModalGrid\">\r\n                        <form onSubmit={handleSubmit(handleChangePassword)}>\r\n\r\n                            {/* Current Password */}\r\n                            <IonRow className=\"editPasswordModalRow\" class=\"ion-align-items-center\">\r\n                                <IonCol size=\"12\" sizeSm=\"12\" className=\"editPasswordModalCol\" class=\"ion-text-left\">\r\n                                    <IonItem className=\"editPasswordModalItem\">\r\n                                        <IonInput type=\"password\" className=\"passwordInput\" name=\"currentPassword\" placeholder=\"Current Password\" ref={register({ required: true, minLength: 8, pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[.,/<>#^~`@$!%*?&])[A-Za-z\\d.,/<>#~`^@$!%*?&]{8,}$/ })} />\r\n                                    </IonItem>\r\n                                    {errors.currentPassword && errors.currentPassword.type === \"required\" && <p className=\"errorMsg\">Current Password is required!</p>}\r\n                                    {errors.currentPassword && errors.currentPassword.type === \"minLength\" && <p className=\"errorMsg\">Password has to be at least 8 characters and must contain 1 uppercase, 1 lowercase, 1 number and 1 special character</p>}\r\n                                    {errors.currentPassword && errors.currentPassword.type === \"pattern\" && <p className=\"errorMsg\">Password has to be at least 8 characters and must contain 1 uppercase, 1 lowercase, 1 number and 1 special character</p>}\r\n                                </IonCol>\r\n                            </IonRow>\r\n\r\n                            {/* New Password */}\r\n                            <IonRow className=\"editPasswordModalRow\" class=\"ion-align-items-center\">\r\n                                <IonCol size=\"12\" sizeSm=\"12\" className=\"editPasswordModalCol\" class=\"ion-text-left\">\r\n                                    <IonItem className=\"editPasswordModalItem\">\r\n                                        <IonInput type=\"password\" className=\"passwordInput\" name=\"newPassword\" placeholder=\"New Password\" ref={register({ required: true, minLength: 8, pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[.,/<>#^~`@$!%*?&])[A-Za-z\\d.,/<>#~`^@$!%*?&]{8,}$/, validate: (newPassword) => newPassword !== currentPasswordRef.current })} />\r\n                                    </IonItem>\r\n                                    {errors.newPassword && errors.newPassword.type === \"required\" && <p className=\"errorMsg\">New Password is required!</p>}\r\n                                    {errors.newPassword && errors.newPassword.type === \"minLength\" && <p className=\"errorMsg\">New Password has to be at least 8 characters and must contain 1 uppercase, 1 lowercase, 1 number and 1 special character</p>}\r\n                                    {errors.newPassword && errors.newPassword.type === \"pattern\" && <p className=\"errorMsg\">New Password has to be at least 8 characters and must contain 1 uppercase, 1 lowercase, 1 number and 1 special character</p>}\r\n                                    {errors.newPassword && errors.newPassword.type === \"validate\" && <p className=\"errorMsg\">New Password cannot be the same as Current Password!</p>}\r\n                                </IonCol>\r\n                            </IonRow>\r\n\r\n                            {/* Confirm New Password */}\r\n                            <IonRow className=\"editPasswordModalRow\" class=\"ion-align-items-center\">\r\n                                <IonCol size=\"12\" sizeSm=\"12\" className=\"editPasswordModalCol\" class=\"ion-text-left\">\r\n                                    <IonItem className=\"editPasswordModalItem\">\r\n                                        <IonInput type=\"password\" className=\"passwordInput\" name=\"confirmNewPassword\" placeholder=\"Confirm New Password\" ref={register({ required: true, minLength: 8, pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[.,/<>#^~`@$!%*?&])[A-Za-z\\d.,/<>#~`^@$!%*?&]{8,}$/, validate: (confirmNewPassword) => confirmNewPassword === newPasswordRef.current })} />\r\n                                    </IonItem>\r\n                                    {errors.confirmNewPassword && errors.confirmNewPassword.type === \"required\" && <p className=\"errorMsg\">Confirm New Password is required!</p>}\r\n                                    {errors.confirmNewPassword && errors.confirmNewPassword.type === \"minLength\" && <p className=\"errorMsg\">Passwords do not match!</p>}\r\n                                    {errors.confirmNewPassword && errors.confirmNewPassword.type === \"pattern\" && <p className=\"errorMsg\">Passwords do not match!</p>}\r\n                                    {errors.confirmNewPassword && errors.confirmNewPassword.type === \"validate\" && <p className=\"errorMsg\">Passwords do not match!</p>}\r\n                                </IonCol>\r\n                            </IonRow>\r\n\r\n                            <IonRow class=\"ion-align-items-center\" style={{marginTop:\"5%\"}}>\r\n                                <IonCol size=\"4\" sizeSm=\"4\" class=\"ion-text-right\">\r\n                                    <IonButton className=\"editPasswordBtn\" onClick={() => setChangePasswordModal(false)}>CANCEL</IonButton>\r\n                                </IonCol>\r\n\r\n                                <IonCol size=\"8\" sizeSm=\"8\" class=\"ion-text-center\">\r\n                                    <IonButton className=\"editPasswordBtn\" type=\"submit\">CHANGE PASSWORD</IonButton>\r\n                                </IonCol>\r\n                            </IonRow>\r\n\r\n                        </form>\r\n                    </IonGrid>\r\n\r\n                </IonContent>\r\n            </IonModal>\r\n\r\n            <IonAlert\r\n                isOpen={alert.success}\r\n                onDidDismiss={() => setAlert({ success: false, error: false })}\r\n                cssClass='alertBox'\r\n                mode='md'\r\n                header={'Successfully Changed Password'}\r\n                message={'Password has been successfully changed!'}\r\n                buttons={[\r\n                    {\r\n                        text: 'Close',\r\n                        handler: () => {\r\n                            /* reset({\r\n                                currentPassword: \"\",\r\n                                newPassword: \"\",\r\n                                confirmNewPassword: \"\"\r\n                            }); */\r\n                            setChangePasswordModal(false);\r\n                        }\r\n                    }\r\n                ]}\r\n            ></IonAlert>\r\n\r\n            <IonPage>\r\n                <IonHeader>\r\n                    {profileUi.profileNav ?\r\n                        <TopNav title=\"My Profile\" route='/u/home' backarrow={ true } hamburger = { true } />\r\n                        : \r\n                        <TopNav title=\"Edit My Profile\" route='/u/home' backarrow={ false } hamburger = { true } />\r\n                    }\r\n                </IonHeader>\r\n\r\n                <IonContent fullscreen={true}>\r\n                    <IonGrid id=\"profileGrid\">\r\n                        <form onSubmit={handleSubmit(handleEditProfile)}>\r\n                            {/* Edit Profile Button */}\r\n                            {profileUi.editProfile ? (\r\n                                <IonRow id=\"editProfileBtnRow\" class=\"ion-align-items-right\">\r\n                                    <IonCol size=\"12\" sizeSm=\"12\" class=\"ion-text-right\" id=\"editProfileBtnCol\">\r\n                                        <IonButton id=\"editProfileBtn\" onClick={editMode}>EDIT PROFILE</IonButton>\r\n                                    </IonCol>\r\n                                </IonRow>\r\n                            ) : null\r\n                            }\r\n\r\n                            {/* Generated QR Code */}\r\n                            <IonRow id=\"qrCodeRow\" class=\"ion-align-items-center\">\r\n                                <IonCol size=\"12\" sizeSm=\"12\" class=\"ion-text-center\" id=\"qrCodeCol\">\r\n                                    <span id=\"qrCode\">QR Code here</span>\r\n                                </IonCol>\r\n                            </IonRow>\r\n\r\n                            {/* Name */}\r\n                            <IonRow className=\"profileRow\" class=\"ion-align-items-center\">\r\n                                <IonCol size=\"2\" sizeSm=\"2\" class=\"ion-text-center\" className=\"profileIconCol\">\r\n                                    <FontAwesomeIcon icon={faAddressCard} size=\"lg\" />\r\n                                </IonCol>\r\n\r\n                                <IonCol size=\"5\" sizeSm=\"5\" class=\"ion-text-left\">\r\n                                    <IonInput value={student.firstName} name=\"firstName\" readonly={true} disabled={true} className=\"readOnlyIonInput\"></IonInput>\r\n                                </IonCol>\r\n\r\n                                <IonCol size=\"5\" sizeSm=\"5\" class=\"ion-text-left\">\r\n                                    <IonInput value={student.lastName} name=\"lastName\" readonly={true} disabled={true} className=\"readOnlyIonInput\"></IonInput>\r\n                                </IonCol>\r\n                            </IonRow>\r\n\r\n                            {/* Email */}\r\n                            <IonRow className=\"profileRow\" class=\"ion-align-items-center\">\r\n                                <IonCol size=\"2\" sizeSm=\"2\" class=\"ion-text-center\" className=\"profileIconCol\">\r\n                                    <FontAwesomeIcon icon={faEnvelope} size=\"lg\" />\r\n                                </IonCol>\r\n\r\n                                <IonCol size=\"10\" sizeSm=\"10\" class=\"ion-text-left\">\r\n                                    <IonInput value={student.email} name=\"email\" readonly={true} disabled={true} className=\"readOnlyIonInput\"></IonInput>\r\n                                </IonCol>\r\n                            </IonRow>\r\n\r\n                            {/* Contact No. */}\r\n                            <IonRow className=\"profileRow\" class=\"ion-align-items-center\">\r\n                                <IonCol size=\"2\" sizeSm=\"2\" class=\"ion-text-center\" className=\"profileIconCol\">\r\n                                    <FontAwesomeIcon icon={faMobileAlt} size=\"lg\" />\r\n                                </IonCol>\r\n\r\n                                <IonCol size=\"10\" sizeSm=\"10\" class=\"ion-text-left\">\r\n                                <IonInput value={student.contact} type=\"tel\" name=\"contactNo\" readonly={fieldDisable} disabled={fieldDisable} className=\"readOnlyIonInput\" id=\"contactNoField\" minlength={8} maxlength={8} ref={register({ required: true, minLength: 8, maxLength: 8, pattern: /(6|8|9)\\d{7}/, min: 8, max: 8 })}></IonInput>\r\n                                    {errors.contactNo && errors.contactNo.type === \"required\" && <p className=\"errorMsg\">Contact number is required!</p>}\r\n                                    {errors.contactNo && errors.contactNo.type === \"minLength\" && <p className=\"errorMsg\">Contact number consist of only 8 digits</p>}\r\n                                    {errors.contactNo && errors.contactNo.type === \"maxLength\" && <p className=\"errorMsg\">Contact number consist of only 8 digits</p>}\r\n                                    {errors.contactNo && errors.contactNo.type === \"pattern\" && <p className=\"errorMsg\">Please enter a valid Contact No.</p>}\r\n                                </IonCol>\r\n                            </IonRow>\r\n\r\n                            {/* DOB */}\r\n                            <IonRow className=\"profileRow\" class=\"ion-align-items-center\">\r\n                                <IonCol size=\"2\" sizeSm=\"2\" class=\"ion-text-center\" className=\"profileIconCol\">\r\n                                    <FontAwesomeIcon icon={faBirthdayCake} size=\"lg\" />\r\n                                </IonCol>\r\n\r\n                                <IonCol size=\"10\" sizeSm=\"10\" class=\"ion-text-left\">\r\n                                    <IonInput value={student.dob} name=\"dob\" readonly={true} disabled={true} className=\"readOnlyIonInput\"></IonInput>\r\n                                </IonCol>\r\n                            </IonRow>\r\n\r\n                            {/* Highest Qualification */}\r\n                            <IonRow className=\"profileRow\" class=\"ion-align-items-center\">\r\n                                <IonCol size=\"2\" sizeSm=\"2\" class=\"ion-text-center\" className=\"profileIconCol\">\r\n                                    <FontAwesomeIcon icon={faUserGraduate} size=\"lg\" />\r\n                                </IonCol>\r\n\r\n                                <IonCol size=\"10\" sizeSm=\"10\" class=\"ion-text-left\">\r\n                                    <IonSelect value={student.highestQual} id=\"highestQualSelect\" className=\"readOnlyIonInput\" name=\"highestQualification\" disabled={fieldDisable} ref={register({ required: true })}>\r\n                                        <IonSelectOption value=\"'A' Level\" className=\"highestQualSelectOption\">'A' Level</IonSelectOption>\r\n                                        <IonSelectOption value=\"'O' Level\" className=\"highestQualSelectOption\">'O' Level</IonSelectOption>\r\n                                        <IonSelectOption value=\"Degree\" className=\"highestQualSelectOption\">Degree</IonSelectOption>\r\n                                        <IonSelectOption value=\"Diploma\" className=\"highestQualSelectOption\">Diploma</IonSelectOption>\r\n                                    </IonSelect>\r\n                                </IonCol>\r\n                            </IonRow>\r\n\r\n                            {/* Nationality */}\r\n                            <IonRow className=\"profileRow\" class=\"ion-align-items-center\">\r\n                                <IonCol size=\"2\" sizeSm=\"2\" class=\"ion-text-center\" className=\"profileIconCol\">\r\n                                    <FontAwesomeIcon icon={faGlobe} size=\"lg\" />\r\n                                </IonCol>\r\n\r\n                                <IonCol size=\"10\" sizeSm=\"10\" class=\"ion-text-left\">\r\n                                    <IonInput value={student.nationality} name=\"nationality\" readonly={true} disabled={true} className=\"readOnlyIonInput\"></IonInput>\r\n                                </IonCol>\r\n                            </IonRow>\r\n\r\n                            {/* Total Points Earned */}\r\n                            {profileUi.editProfile ? (\r\n                                <IonRow className=\"profileRow\" class=\"ion-align-items-center\">\r\n                                    <IonCol size=\"2\" sizeSm=\"2\" class=\"ion-text-center\" className=\"profileIconCol\">\r\n                                        <FontAwesomeIcon icon={faGift} size=\"lg\" />\r\n                                    </IonCol>\r\n\r\n                                    <IonCol size=\"10\" sizeSm=\"10\" class=\"ion-text-left\">\r\n                                        <IonInput value={student.points} name=\"pointsEarned\" readonly={true} disabled={true} className=\"readOnlyIonInput\"></IonInput>\r\n                                    </IonCol>\r\n                                </IonRow>\r\n                            ) : null\r\n                            }\r\n                            \r\n\r\n                            {/* Password */}\r\n                            {profileUi.changePassword ? (\r\n                                <IonRow className=\"profileRow\" class=\"ion-align-items-center\">\r\n                                    <IonCol size=\"2\" sizeSm=\"2\" class=\"ion-text-center\" className=\"profileIconCol\">\r\n                                        <FontAwesomeIcon icon={faLock} size=\"lg\" />\r\n                                    </IonCol>\r\n\r\n                                    <IonCol size=\"8\" sizeSm=\"8\" class=\"ion-text-left\">\r\n                                        <IonInput type=\"password\" value={\"password\"} name=\"password\" readonly={true} disabled={true} className=\"readOnlyIonInput\"></IonInput>\r\n                                    </IonCol>\r\n\r\n                                    <IonCol size=\"2\" sizeSm=\"2\" class=\"ion-text-center\">\r\n                                        <IonButton id=\"editPasswordBtn\" fill=\"clear\" size=\"default\" onClick={() => setChangePasswordModal(true)}>\r\n                                            <FontAwesomeIcon icon={faEdit} size=\"lg\" />\r\n                                        </IonButton>\r\n                                    </IonCol>\r\n                                </IonRow>\r\n                            ) : (\r\n                                <IonRow id=\"editProfileBtnRow\" class=\"ion-align-items-center\">\r\n                                    <IonCol size=\"12\" sizeSm=\"12\" class=\"ion-text-center\" id=\"saveEditProfileBtnCol\">\r\n                                        <IonAlert \r\n                                            isOpen={alert.success}\r\n                                            onDidDismiss={() => setAlert({ success: false, error: false })}\r\n                                            cssClass='alertBox' \r\n                                            header={'Profile Updated'} \r\n                                            message={'Your profile has been successfully updated!'} \r\n                                            buttons={[\r\n                                                {\r\n                                                    text:'CLOSE',\r\n                                                    handler: () => {\r\n                                                        setFieldDisable(true);\r\n                                                        setProfileUi({ profileNav: true, editProfile: true, changePassword: true });\r\n                                                    }\r\n                                                }\r\n                                            ]}\r\n                                        />\r\n\r\n                                        <IonAlert isOpen={alert.error} onDidDismiss={() => setAlert({ success: false, error: false })} cssClass='alertBox' header={'Error Occurred!'} message={'Please enter the correct information for the fields.'} buttons={['OK']}></IonAlert>\r\n                                        <IonButton id=\"saveEditProfileBtn\" type=\"submit\">SAVE</IonButton>\r\n                                    </IonCol>\r\n                                </IonRow>\r\n                            )}\r\n                        \r\n                        </form>\r\n                    </IonGrid>\r\n                    <IonLoading isOpen={loading} />\r\n                </IonContent>\r\n            </IonPage>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default MyProfile;"]},"metadata":{},"sourceType":"module"}