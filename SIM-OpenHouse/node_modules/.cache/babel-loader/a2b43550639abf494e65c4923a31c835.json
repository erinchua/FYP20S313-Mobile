{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{IonAlert,IonBadge,IonButton,IonCol,IonContent,IonGrid,IonHeader,IonLabel,IonPage,IonPopover,IonRouterLink,IonRow,IonTitle,IonToolbar}from'@ionic/react';import React,{useState,useEffect}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCheck,faFilter}from'@fortawesome/free-solid-svg-icons';import'../../css/Global.css';import'../../css/Study@SIMProgList.css';import TopNav from'../../components/TopNav';import CompareProgPopoverContent from'../../components/Study@SIM/CompareProgPopoverContent';import FilterPopoverContent from'../../components/FilterPopoverContent';import{db}from'../../firebase';var StudySIMProgList=function StudySIMProgList(props){console.log(props);var match=props.match;var discipline=match.params.discipline;var category=match.params.category;var _useState=useState(['Arts & Social Sciences','Business','IT & Computer Science','Nursing','Specialty']),_useState2=_slicedToArray(_useState,2),disciplineName=_useState2[0],setDisciplineName=_useState2[1];var _useState3=useState({mos:['fullPartTime','partTime','fullTime'],discipline:[discipline],uni:[],acadLvl:[category],entry:[],subDisc:[]}),_useState4=_slicedToArray(_useState3,2),filterCondition=_useState4[0],setFilterCondition=_useState4[1];var onUpdateFilter=function onUpdateFilter(mosFilter,discFilter,uniFilter,acadLvlFilter,entryFilter,subDiscFilter){setFilterCondition(function(prevState){var filter=_objectSpread({},prevState);Object.keys(filter).map(function(key){if(key==='mos')filter[key]=mosFilter;if(key==='discipline')filter[key]=discFilter;if(key==='uni')filter[key]=uniFilter;if(key==='acadLvl')filter[key]=acadLvlFilter;if(key==='entry')filter[key]=entryFilter;if(key==='subDisc')filter[key]=subDiscFilter;});return filter;});};//programmes to be rendered and the comparepopover list\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),programmes=_useState6[0],setProgrammes=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),compareProgList=_useState8[0],setCompareProgList=_useState8[1];//To get the unique disciplines for rendering at the header\nvar allDisc=programmes.map(function(programme){return programme.discipline;});var disc=[];allDisc.map(function(data){return data.map(function(data){return disc.push(data);});});var uniqueDisc=_toConsumableArray(new Set(disc));//For storing the compare list into session\nuseEffect(function(){return function(){window.sessionStorage.setItem(\"compareProgList\",JSON.stringify(compareProgList));};},[compareProgList]);/* Adding programme for comparison - Need to be generated dynamically */var compareProgramme=function compareProgramme(programme){var newProgList=_toConsumableArray(compareProgList);var newProgID=programme.id;if(newProgList.length<3){if(newProgList.includes(programme)){var updatedProgList=newProgList.filter(function(existingProg){return existingProg.id!==newProgID;});setCompareProgList(updatedProgList);}else{newProgList.push(programme);setCompareProgList(newProgList);}}else{if(newProgList.includes(programme)){var _updatedProgList=newProgList.filter(function(existingProg){return existingProg.id!=newProgID;});setCompareProgList(_updatedProgList);}else{setShowCompareProgAlert(true);}}};var filterProgrammes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(condition){var initialList,filteredList,segmentFilter;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:initialList=[];filteredList=[];segmentFilter=[];console.log(\"In filterProgrammes, inputs:\"+JSON.stringify(condition));_context.next=6;return db.collection('TestProgrammes').get().then(function(snapshot){snapshot.docs.forEach(function(doc){var data=doc.data();initialList.push(data);});});case 6:console.log(initialList.length+JSON.stringify(initialList));Object.entries(condition).map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];if(key==='mos'){if(value.length<3&&value.length>0){value.forEach(function(value){if(value==='fullPartTime'){segmentFilter=initialList.filter(function(programme){return programme.modeOfStudy.fullTime&&programme.modeOfStudy.partTime;});console.log(\"filtering full and part time\"+segmentFilter.length);filteredList=filteredList.concat(segmentFilter);console.log(\"Current filtered list\"+filteredList.length+JSON.stringify(filteredList));}if(value==='fullTime'){segmentFilter=initialList.filter(function(programme){return programme.modeOfStudy.fullTime&&!programme.modeOfStudy.partTime;});console.log(\"filtering full time\"+segmentFilter.length);filteredList=filteredList.concat(segmentFilter);}if(value==='partTime'){segmentFilter=initialList.filter(function(programme){return!programme.modeOfStudy.fullTime&&programme.modeOfStudy.partTime;});console.log(\"filtering part time\"+segmentFilter.length);filteredList=filteredList.concat(segmentFilter);}});}else if(value.length===0||value.length===3){filteredList=initialList;}}else if(key==='discipline'){var discFiltered=[];if(value.length>0&&value.length<=4){console.log(\"Entered discipline filter\");value.forEach(function(value){segmentFilter=filteredList.filter(function(programme){return programme.discipline.includes(value);});console.log(\"filtering discipline\"+value+segmentFilter.length+JSON.stringify(segmentFilter));discFiltered=discFiltered.concat(segmentFilter);});filteredList=discFiltered;}}else if(key==='uni'){var uniFiltered=[];if(value.length>0){value.forEach(function(value){segmentFilter=filteredList.filter(function(programme){return programme.awardedBy==value;});console.log(\"filtering uni\"+value+segmentFilter.length+JSON.stringify(segmentFilter));uniFiltered=uniFiltered.concat(segmentFilter);// console.log(\"current list\" + JSON.stringify(filteredList))\n});filteredList=uniFiltered;}}else if(key==='acadLvl'){var acadFiltered=[];if(value.length>0){value.forEach(function(value){segmentFilter=filteredList.filter(function(programme){return programme.academicLevel===value;});console.log(\"filtering acadLvl\"+value+segmentFilter.length+JSON.stringify(segmentFilter));acadFiltered=acadFiltered.concat(segmentFilter);});filteredList=acadFiltered;}}else if(key==='entry'){var entryFiltered=[];if(value.length>0){value.forEach(function(value){if(value==='aLevel'){segmentFilter=filteredList.filter(function(programme){return programme.entryQualifications.aLevel;});console.log(\"Filering \"+value+segmentFilter.length+JSON.stringify(segmentFilter));entryFiltered=entryFiltered.concat(segmentFilter);}else if(value==='oLevel'){segmentFilter=filteredList.filter(function(programme){return programme.entryQualifications.oLevel;});console.log(\"Filering \"+value+segmentFilter.length+JSON.stringify(segmentFilter));entryFiltered=entryFiltered.concat(segmentFilter);}else if(value==='diploma'){segmentFilter=filteredList.filter(function(programme){return programme.entryQualifications.diploma;});console.log(\"Filering \"+value+segmentFilter.length+JSON.stringify(segmentFilter));entryFiltered=entryFiltered.concat(segmentFilter);}else if(value==='degree'){segmentFilter=filteredList.filter(function(programme){return programme.entryQualifications.degree;});console.log(\"Filering \"+value+segmentFilter.length+JSON.stringify(segmentFilter));entryFiltered=entryFiltered.concat(segmentFilter);}});filteredList=entryFiltered;}}else if(key==='subDisc'){var subDiscFiltered=[];if(value.length>0){value.forEach(function(value){segmentFilter=filteredList.filter(function(programme){return programme.subDiscipline.includes(value);});console.log(\"Filering subDisc\"+value+segmentFilter.length+JSON.stringify(segmentFilter));subDiscFiltered=subDiscFiltered.concat(segmentFilter);});filteredList=subDiscFiltered;}}}//newList.filter(programme=>{return programme.modeOfStudy})\n);console.log(\"New List are \"+filteredList.length+JSON.stringify(filteredList));setProgrammes(filteredList);case 10:case\"end\":return _context.stop();}}},_callee);}));return function filterProgrammes(_x){return _ref.apply(this,arguments);};}();/*To remove selected programmes in comparePopOver */var removeProg=function removeProg(programme){var newProgList=_toConsumableArray(compareProgList);var newProgID=programme.id;var updatedProgList=newProgList.filter(function(programme){return programme.id!==newProgID;});setCompareProgList(updatedProgList);};/*To remove all selected programmes in comparePopOver */var removeAllProg=function removeAllProg(programmes){var newProgList=_toConsumableArray(compareProgList);var updatedProgList=newProgList.filter(function(programme){return programme.id==='';});setCompareProgList(updatedProgList);};/* Display Compare Prog Popover */var _useState9=useState({open:false,event:undefined}),_useState10=_slicedToArray(_useState9,2),showCompareProgPopover=_useState10[0],setShowCompareProgPopover=_useState10[1];/* \"If no prog is added to compare\" Alert */var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showCompareProgAlert=_useState12[0],setShowCompareProgAlert=_useState12[1];/* Display Filter Menu Popover */var _useState13=useState({open:false,event:undefined}),_useState14=_slicedToArray(_useState13,2),showProgCourseFilterPopover=_useState14[0],setShowProgCourseFilterPopover=_useState14[1];/* When page first load */useEffect(function(){//console.log(\"proglist rendered\")\n/*Fetching Programmes Data from firestore*/var fetchData=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(discipline,category){var programmes;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:programmes=[];_context2.next=3;return db.collection('TestProgrammes').where(\"discipline\",\"array-contains\",match.params.discipline).where(\"academicLevel\",'==',match.params.category).get().then(function(snapshot){snapshot.docs.forEach(function(doc){var data=doc.data();programmes.push(data);console.log(\"programme retrieved \"+data);});setProgrammes(programmes);}).catch(function(error){return console.log(error);});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchData(_x2,_x3){return _ref4.apply(this,arguments);};}();fetchData(match.params.discipline,match.params.category);var sessionList=window.sessionStorage.compareProgList?JSON.parse(window.sessionStorage.compareProgList):[];console.log(\"Session list retrieved! \"+sessionList);setCompareProgList(sessionList);},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,console.log(\"disc are\"+disc+disc.length),console.log(\"uniqueDisc are\"+uniqueDisc),/*#__PURE__*/React.createElement(IonAlert,{isOpen:showCompareProgAlert,onDidDismiss:function onDidDismiss(){return setShowCompareProgAlert(false);},cssClass:\"alertBox\",mode:\"md\",message:'You may compare up to 3 programmes at a time by tapping on the Compare button of the programme(s).',buttons:['OK']}),/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(TopNav,{title:\"Study@SIM\",route:\"/u/study@SIMMain\",backarrow:true,hamburger:true}),/*#__PURE__*/React.createElement(IonToolbar,{id:\"studySIMProgListHeaderToolbar\"},/*#__PURE__*/React.createElement(IonGrid,{style:{padding:\"0\"}},/*#__PURE__*/React.createElement(IonRow,{id:\"studySIMProgListHeaderRow\",class:\"ion-align-items-center\"},/*#__PURE__*/React.createElement(IonCol,{size:\"6\",sizeSm:\"6\",class:\"ion-text-left\",className:\"studySIMProgListCol\",style:{paddingLeft:\"3%\"}},/*#__PURE__*/React.createElement(IonTitle,{className:\"studyProgListTitle\"},uniqueDisc.length===1?uniqueDisc.map(function(disc){return/*#__PURE__*/React.createElement(\"div\",{key:disc,className:\"ion-text-wrap\"},disc);}):'')),/*#__PURE__*/React.createElement(IonCol,{size:\"4\",sizeSm:\"4\",class:\"ion-text-right\",className:\"studySIMProgListCol\"},/*#__PURE__*/React.createElement(IonButton,{id:\"compareBtn\",fill:\"clear\",onClick:function onClick(e){if(compareProgList.length<1||compareProgList.length>3){setShowCompareProgAlert(true);}else{setShowCompareProgPopover({open:true,event:e.nativeEvent});}}},/*#__PURE__*/React.createElement(IonLabel,{className:\"compareLabel\"},\"Compare\"),/*#__PURE__*/React.createElement(IonBadge,{id:\"compareBadge\"},compareProgList.length))),/*#__PURE__*/React.createElement(IonCol,{size:\"2\",sizeSm:\"2\",class:\"ion-text-center\",className:\"studySIMProgListCol\"},/*#__PURE__*/React.createElement(IonButton,{id:\"filterBtn\",fill:\"clear\",onClick:function onClick(e){setShowProgCourseFilterPopover({open:true,event:e.nativeEvent});}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"filterIcon\",size:\"lg\",icon:faFilter}))))))),/*#__PURE__*/React.createElement(IonContent,{fullscreen:true,id:\"studySIMProgListContent\"},/*#__PURE__*/React.createElement(IonGrid,{id:\"studySIMProgListGrid\"},programmes?programmes.map(function(programme){return/*#__PURE__*/React.createElement(\"div\",{key:programme.id},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(IonRow,{className:\"studySIMProgListRow\",class:\"ion-align-items-center\"},/*#__PURE__*/React.createElement(IonCol,{size:\"4\",sizeSm:\"4\",class:\"ion-text-center\"},/*#__PURE__*/React.createElement(\"img\",{src:programme.uniLogo,className:\"studyProgUniImg\"})),/*#__PURE__*/React.createElement(IonCol,{size:\"8\",sizeSm:\"8\",className:\"studySIMProgListColDetails\",class:\"ion-text-left\"},/*#__PURE__*/React.createElement(IonRow,{className:\"progCourseRow\"},/*#__PURE__*/React.createElement(IonRouterLink,{id:\"progCourseTitleLink\",href:\"/u/study@SIMMain/Study@SIMProgInfo/\".concat(programme.id,\"/\").concat(discipline,\"/\").concat(category)},/*#__PURE__*/React.createElement(IonTitle,{className:\"progCourseTitle\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ion-text-wrap\"},programme.programmeTitle)))),/*#__PURE__*/React.createElement(IonRow,{className:\"progCourseRow\"},/*#__PURE__*/React.createElement(IonCol,{size:\"4\",sizeSm:\"4\",class:\"ion-text-left\",className:\"progCourseAwardingUniCol\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"progCourseAwardingUniLabel\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ion-text-wrap\"},\"Awarded by:\"))),/*#__PURE__*/React.createElement(IonCol,{size:\"8\",sizeSm:\"8\",class:\"ion-text-left\",className:\"progCourseAwardingUniCol\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"progCourseAwardingUniName\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ion-text-wrap\"},programme.awardedBy)))),/*#__PURE__*/React.createElement(IonRow,{className:\"progCompareBtnRow\"},/*#__PURE__*/React.createElement(IonCol,{size:\"12\",sizeSm:\"12\",class:\"ion-text-right\",className:\"progCompareBtnCol\"},compareProgList.includes(programme)?/*#__PURE__*/React.createElement(IonButton,{className:\"progCompareBtnSelected\",size:\"small\",type:\"submit\",onClick:function onClick(e){return compareProgramme(programme);}},\"Compared\",/*#__PURE__*/React.createElement(FontAwesomeIcon,{style:{paddingLeft:\"3%\"},icon:faCheck})):/*#__PURE__*/React.createElement(IonButton,{className:\"progCompareBtn\",size:\"small\",type:\"submit\",onClick:function onClick(e){return compareProgramme(programme);}},\"Compare\")))))));}):''),/*#__PURE__*/React.createElement(IonPopover,{id:\"compareProgPopover\",cssClass:\"compareProgPopover\",isOpen:showCompareProgPopover.open,event:showCompareProgPopover.event,onDidDismiss:function onDidDismiss(e){return setShowCompareProgPopover({open:false,event:undefined});}},/*#__PURE__*/React.createElement(CompareProgPopoverContent,{compareProgList:compareProgList,removeProg:removeProg,removeAllProg:removeAllProg,viewResults:function viewResults(){return console.log('Add viewResults function here');},href:\"/u/study@SIMMain/\".concat(props.match.params.discipline,\"/\").concat(props.match.params.category,\"/courseComparator\")})),/*#__PURE__*/React.createElement(IonPopover,{id:\"progCourseFilterPopover\",cssClass:\"progCourseFilterPopover\",isOpen:showProgCourseFilterPopover.open,event:showProgCourseFilterPopover.event,onDidDismiss:function onDidDismiss(e){return setShowProgCourseFilterPopover({open:false,event:undefined});}},/*#__PURE__*/React.createElement(FilterPopoverContent,{filterFunction:filterProgrammes,programmes:programmes,filterFor:\"study@SIM\",filterCondition:filterCondition,onUpdateFilter:onUpdateFilter,discipline:discipline,category:category,setState:\"\"})))));};export default StudySIMProgList;","map":{"version":3,"sources":["D:/BearBear/Coding_Projects/UOW-CSIT321 (FYP)/FYP20S313-Mobile/SIM-OpenHouse/src/pages/Study@SIM/Study@SIMProgList.tsx"],"names":["IonAlert","IonBadge","IonButton","IonCol","IonContent","IonGrid","IonHeader","IonLabel","IonPage","IonPopover","IonRouterLink","IonRow","IonTitle","IonToolbar","React","useState","useEffect","FontAwesomeIcon","faCheck","faFilter","TopNav","CompareProgPopoverContent","FilterPopoverContent","db","StudySIMProgList","props","console","log","match","discipline","params","category","disciplineName","setDisciplineName","mos","uni","acadLvl","entry","subDisc","filterCondition","setFilterCondition","onUpdateFilter","mosFilter","discFilter","uniFilter","acadLvlFilter","entryFilter","subDiscFilter","prevState","filter","Object","keys","map","key","programmes","setProgrammes","compareProgList","setCompareProgList","allDisc","programme","disc","data","push","uniqueDisc","Set","window","sessionStorage","setItem","JSON","stringify","compareProgramme","newProgList","newProgID","id","length","includes","updatedProgList","existingProg","setShowCompareProgAlert","filterProgrammes","condition","initialList","filteredList","segmentFilter","collection","get","then","snapshot","docs","forEach","doc","entries","value","modeOfStudy","fullTime","partTime","concat","discFiltered","uniFiltered","awardedBy","acadFiltered","academicLevel","entryFiltered","entryQualifications","aLevel","oLevel","diploma","degree","subDiscFiltered","subDiscipline","removeProg","removeAllProg","open","event","undefined","showCompareProgPopover","setShowCompareProgPopover","showCompareProgAlert","showProgCourseFilterPopover","setShowProgCourseFilterPopover","fetchData","where","catch","error","sessionList","parse","padding","paddingLeft","e","nativeEvent","uniLogo","programmeTitle"],"mappings":"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","sourcesContent":["import { IonAlert, IonBadge, IonButton, IonCol, IonContent, IonGrid, IonHeader, IonLabel, IonPage, IonPopover, IonRouterLink, IonRow, IonTitle, IonToolbar } from '@ionic/react';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCheck, faFilter } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport '../../css/Global.css';\r\nimport '../../css/Study@SIMProgList.css';\r\nimport TopNav from '../../components/TopNav';\r\nimport CompareProgPopoverContent from '../../components/Study@SIM/CompareProgPopoverContent';\r\nimport FilterPopoverContent from '../../components/FilterPopoverContent';\r\nimport { db } from '../../firebase';\r\nimport { Programme } from '../../modules/map';\r\nimport { FilterCondition } from '../../components/FilterPopoverContent'\r\n\r\ninterface StudySIMProgList_Props extends RouteComponentProps<{\r\n    discipline: string;\r\n    category: string;\r\n}> { }\r\n\r\ninterface myProps {\r\n    compareProgList: Programme[],\r\n    onCompareProgListChange: (programmes: Programme[]) => void\r\n}\r\nconst StudySIMProgList: React.FC<myProps & StudySIMProgList_Props> = (props) => {\r\n\r\n    console.log(props);\r\n    const { match } = props;\r\n    const discipline = match.params.discipline\r\n    const category = match.params.category\r\n\r\n    const [disciplineName, setDisciplineName] = useState([\r\n        'Arts & Social Sciences',\r\n        'Business',\r\n        'IT & Computer Science',\r\n        'Nursing',\r\n        'Specialty'\r\n    ]);\r\n\r\n    const [filterCondition, setFilterCondition] = useState<FilterCondition>({\r\n        mos: ['fullPartTime', 'partTime', 'fullTime'],\r\n        discipline: [discipline],\r\n        uni: [],\r\n        acadLvl: [category],\r\n        entry: [],\r\n        subDisc: []\r\n    })\r\n\r\n    const onUpdateFilter = (mosFilter: string[], discFilter: string[], uniFilter: string[], acadLvlFilter: string[], entryFilter: string[], subDiscFilter: string[]) => {\r\n        setFilterCondition(prevState => {\r\n            let filter = { ...prevState };\r\n            Object.keys(filter).map(key => {\r\n                if (key === 'mos')\r\n                    filter[key] = mosFilter;\r\n                if (key === 'discipline')\r\n                    filter[key] = discFilter;\r\n                if (key === 'uni')\r\n                    filter[key] = uniFilter;\r\n                if (key === 'acadLvl')\r\n                    filter[key] = acadLvlFilter;\r\n                if (key === 'entry')\r\n                    filter[key] = entryFilter;\r\n                if (key === 'subDisc')\r\n                    filter[key] = subDiscFilter;\r\n            })\r\n            return filter;\r\n        })\r\n    }\r\n\r\n    //programmes to be rendered and the comparepopover list\r\n    const [programmes, setProgrammes] = useState<Programme[]>([])\r\n    const [compareProgList, setCompareProgList] = useState<Programme[]>([])\r\n\r\n    //To get the unique disciplines for rendering at the header\r\n    const allDisc = programmes.map(programme => programme.discipline)\r\n    const disc: string[] = []\r\n    allDisc.map(data => data.map(data => disc.push(data)))\r\n    let uniqueDisc: string[] = [...new Set(disc)]\r\n\r\n    //For storing the compare list into session\r\n    useEffect(() => {\r\n        return () => {\r\n            window.sessionStorage.setItem(\"compareProgList\", JSON.stringify(compareProgList));\r\n        }\r\n    }, [compareProgList])\r\n\r\n    /* Adding programme for comparison - Need to be generated dynamically */\r\n    const compareProgramme = (programme: Programme) => {\r\n        const newProgList = [...compareProgList]\r\n        const newProgID = programme.id\r\n\r\n        if (newProgList.length < 3) {\r\n            if (newProgList.includes(programme)) {\r\n                const updatedProgList = newProgList.filter(existingProg => { return existingProg.id !== newProgID })\r\n                setCompareProgList(updatedProgList)\r\n            }\r\n            else {\r\n                newProgList.push(programme)\r\n                setCompareProgList(newProgList)\r\n            }\r\n        }\r\n        else {\r\n\r\n            if (newProgList.includes(programme)) {\r\n                const updatedProgList = newProgList.filter(existingProg => { return existingProg.id != newProgID })\r\n                setCompareProgList(updatedProgList)\r\n            }\r\n            else {\r\n                setShowCompareProgAlert(true);\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n    const filterProgrammes = async (condition: FilterCondition) => {\r\n\r\n        const initialList: Programme[] = []\r\n        let filteredList: Programme[] = []\r\n        let segmentFilter: Programme[] = []\r\n        console.log(\"In filterProgrammes, inputs:\" + JSON.stringify(condition))\r\n        await db.collection('TestProgrammes')\r\n            .get()\r\n            .then(snapshot => {\r\n                snapshot.docs.forEach((doc: any) => {\r\n                    const data = doc.data()\r\n                    initialList.push(data)\r\n                })\r\n            })\r\n        console.log(initialList.length + JSON.stringify(initialList))\r\n        Object.entries(condition).map(([key, value]) => {\r\n            if (key === 'mos') {\r\n                if (value.length < 3 && value.length > 0) {\r\n                    value.forEach((value: string) => {\r\n                        if (value === 'fullPartTime') {\r\n                            segmentFilter = initialList.filter(programme => programme.modeOfStudy.fullTime && programme.modeOfStudy.partTime)\r\n                            console.log(\"filtering full and part time\" + segmentFilter.length)\r\n                            filteredList = filteredList.concat(segmentFilter)\r\n                            console.log(\"Current filtered list\" + filteredList.length + JSON.stringify(filteredList))\r\n\r\n\r\n                        }\r\n                        if (value === 'fullTime') {\r\n                            segmentFilter = initialList.filter(programme => programme.modeOfStudy.fullTime && !programme.modeOfStudy.partTime)\r\n                            console.log(\"filtering full time\" + segmentFilter.length)\r\n                            filteredList = filteredList.concat(segmentFilter)\r\n\r\n                        }\r\n                        if (value === 'partTime') {\r\n                            segmentFilter = initialList.filter(programme => !programme.modeOfStudy.fullTime && programme.modeOfStudy.partTime)\r\n                            console.log(\"filtering part time\" + segmentFilter.length)\r\n                            filteredList = filteredList.concat(segmentFilter)\r\n\r\n                        }\r\n                    })\r\n                }\r\n                else if (value.length === 0 || value.length === 3) {\r\n                    filteredList = initialList\r\n                }\r\n            }\r\n            else if (key === 'discipline') {\r\n                let discFiltered: Programme[] = []\r\n                if (value.length > 0 && value.length <= 4) {\r\n                    console.log(\"Entered discipline filter\")\r\n                    value.forEach((value: string) => {\r\n                        segmentFilter = filteredList.filter(programme => programme.discipline.includes(value))\r\n                        console.log(\"filtering discipline\" + value + segmentFilter.length + JSON.stringify(segmentFilter))\r\n                        discFiltered = discFiltered.concat(segmentFilter)\r\n                    })\r\n                    filteredList = discFiltered\r\n                }\r\n\r\n            }\r\n\r\n            else if (key === 'uni') {\r\n                let uniFiltered: Programme[] = []\r\n                if (value.length > 0) {\r\n                    value.forEach((value: string) => {\r\n                        segmentFilter = filteredList.filter(programme => programme.awardedBy == value)\r\n                        console.log(\"filtering uni\" + value + segmentFilter.length + JSON.stringify(segmentFilter))\r\n                        uniFiltered = uniFiltered.concat(segmentFilter)\r\n                        // console.log(\"current list\" + JSON.stringify(filteredList))\r\n                    })\r\n                    filteredList = uniFiltered\r\n                }\r\n            }\r\n            else if (key === 'acadLvl') {\r\n                let acadFiltered: Programme[] = []\r\n                if (value.length > 0) {\r\n                    value.forEach((value: string) => {\r\n                        segmentFilter = filteredList.filter(programme => programme.academicLevel === value)\r\n                        console.log(\"filtering acadLvl\" + value + segmentFilter.length + JSON.stringify(segmentFilter))\r\n                        acadFiltered = acadFiltered.concat(segmentFilter)\r\n                    })\r\n                    filteredList = acadFiltered\r\n                }\r\n            }\r\n\r\n            else if (key === 'entry') {\r\n                let entryFiltered: Programme[] = []\r\n                if (value.length > 0) {\r\n                    value.forEach((value: string) => {\r\n                        if (value === 'aLevel') {\r\n                            segmentFilter = filteredList.filter(programme => programme.entryQualifications.aLevel)\r\n                            console.log(\"Filering \" + value + segmentFilter.length + JSON.stringify(segmentFilter))\r\n                            entryFiltered = entryFiltered.concat(segmentFilter)\r\n                        }\r\n                        else if (value === 'oLevel') {\r\n                            segmentFilter = filteredList.filter(programme => programme.entryQualifications.oLevel)\r\n                            console.log(\"Filering \" + value + segmentFilter.length + JSON.stringify(segmentFilter))\r\n                            entryFiltered = entryFiltered.concat(segmentFilter)\r\n                        }\r\n                        else if (value === 'diploma') {\r\n                            segmentFilter = filteredList.filter(programme => programme.entryQualifications.diploma)\r\n                            console.log(\"Filering \" + value + segmentFilter.length + JSON.stringify(segmentFilter))\r\n                            entryFiltered = entryFiltered.concat(segmentFilter)\r\n                        }\r\n                        else if (value === 'degree') {\r\n                            segmentFilter = filteredList.filter(programme => programme.entryQualifications.degree)\r\n                            console.log(\"Filering \" + value + segmentFilter.length + JSON.stringify(segmentFilter))\r\n                            entryFiltered = entryFiltered.concat(segmentFilter)\r\n                        }\r\n                    })\r\n                    filteredList = entryFiltered\r\n                }\r\n            }\r\n            else if (key === 'subDisc') {\r\n                let subDiscFiltered: Programme[] = []\r\n                if (value.length > 0) {\r\n                    value.forEach((value: string) => {\r\n                        segmentFilter = filteredList.filter(programme => programme.subDiscipline.includes(value))\r\n                        console.log(\"Filering subDisc\" + value + segmentFilter.length + JSON.stringify(segmentFilter))\r\n                        subDiscFiltered = subDiscFiltered.concat(segmentFilter)\r\n                    })\r\n                    filteredList = subDiscFiltered\r\n\r\n                }\r\n            }\r\n        }\r\n            //newList.filter(programme=>{return programme.modeOfStudy})\r\n        )\r\n        console.log(\"New List are \" + filteredList.length + JSON.stringify(filteredList))\r\n        setProgrammes(filteredList)\r\n\r\n    }\r\n\r\n    /*To remove selected programmes in comparePopOver */\r\n    const removeProg = (programme: Programme) => {\r\n        const newProgList = [...compareProgList]\r\n        const newProgID = programme.id\r\n        const updatedProgList = newProgList.filter(programme => { return programme.id !== newProgID })\r\n        setCompareProgList(updatedProgList)\r\n\r\n    }\r\n    /*To remove all selected programmes in comparePopOver */\r\n    const removeAllProg = (programmes: Programme[]) => {\r\n        const newProgList = [...compareProgList]\r\n        const updatedProgList = newProgList.filter(programme => { return programme.id === '' })\r\n        setCompareProgList(updatedProgList)\r\n\r\n    }\r\n\r\n\r\n    /* Display Compare Prog Popover */\r\n    const [showCompareProgPopover, setShowCompareProgPopover] = useState<{ open: boolean, event: Event | undefined }>({\r\n        open: false,\r\n        event: undefined,\r\n    });\r\n\r\n    /* \"If no prog is added to compare\" Alert */\r\n    const [showCompareProgAlert, setShowCompareProgAlert] = useState(false);\r\n\r\n    /* Display Filter Menu Popover */\r\n    const [showProgCourseFilterPopover, setShowProgCourseFilterPopover] = useState<{ open: boolean, event: Event | undefined }>({\r\n        open: false,\r\n        event: undefined,\r\n    });\r\n\r\n    /* When page first load */\r\n    useEffect(() => {\r\n        //console.log(\"proglist rendered\")\r\n\r\n        /*Fetching Programmes Data from firestore*/\r\n        const fetchData = async (discipline: string, category: string) => {\r\n            const programmes: any = []\r\n            await db.collection('TestProgrammes')\r\n                .where(\"discipline\", \"array-contains\", match.params.discipline)\r\n                .where(\"academicLevel\", '==', match.params.category)\r\n                .get()\r\n                .then((snapshot: any) => {\r\n                    snapshot.docs.forEach((doc: any) => {\r\n                        const data = doc.data()\r\n                        programmes.push(data)\r\n                        console.log(\"programme retrieved \" + data)\r\n                    })\r\n                    setProgrammes(programmes)\r\n                }).catch((error) => console.log(error));\r\n\r\n        }\r\n\r\n        fetchData(match.params.discipline, match.params.category)\r\n\r\n        const sessionList: Programme[] = window.sessionStorage.compareProgList ? JSON.parse(window.sessionStorage.compareProgList) : [];\r\n        console.log(\"Session list retrieved! \" + sessionList)\r\n        setCompareProgList(sessionList);\r\n    }, [])\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {console.log(\"disc are\" + disc + disc.length)}\r\n            {console.log(\"uniqueDisc are\" + uniqueDisc)}\r\n            <IonAlert\r\n                isOpen={showCompareProgAlert}\r\n                onDidDismiss={() => setShowCompareProgAlert(false)}\r\n                cssClass='alertBox'\r\n                mode='md'\r\n                message={'You may compare up to 3 programmes at a time by tapping on the Compare button of the programme(s).'}\r\n                buttons={['OK']}\r\n            ></IonAlert>\r\n\r\n\r\n            <IonPage>\r\n                <IonHeader>\r\n                    <TopNav title=\"Study@SIM\" route='/u/study@SIMMain' backarrow={true} hamburger={true} />\r\n\r\n                    <IonToolbar id=\"studySIMProgListHeaderToolbar\">\r\n                        <IonGrid style={{ padding: \"0\" }}>\r\n                            <IonRow id=\"studySIMProgListHeaderRow\" class=\"ion-align-items-center\">\r\n                                <IonCol size=\"6\" sizeSm=\"6\" class=\"ion-text-left\" className=\"studySIMProgListCol\" style={{ paddingLeft: \"3%\" }}>\r\n                                    <IonTitle className=\"studyProgListTitle\">\r\n                                        {uniqueDisc.length === 1 ? uniqueDisc.map(disc => {\r\n                                            return (<div key={disc} className=\"ion-text-wrap\">{disc}</div>)\r\n                                        }) : ''}\r\n\r\n                                    </IonTitle>\r\n                                </IonCol>\r\n\r\n                                <IonCol size=\"4\" sizeSm=\"4\" class=\"ion-text-right\" className=\"studySIMProgListCol\">\r\n                                    <IonButton id=\"compareBtn\" fill=\"clear\" onClick={(e) => {\r\n                                        if (compareProgList.length < 1 || compareProgList.length > 3) {\r\n                                            setShowCompareProgAlert(true);\r\n                                        } else {\r\n                                            setShowCompareProgPopover({ open: true, event: e.nativeEvent })\r\n                                        }\r\n                                    }\r\n                                    }>\r\n                                        <IonLabel className=\"compareLabel\">Compare</IonLabel>\r\n                                        <IonBadge id=\"compareBadge\">{compareProgList.length}</IonBadge>\r\n                                    </IonButton>\r\n                                </IonCol>\r\n\r\n                                <IonCol size=\"2\" sizeSm=\"2\" class=\"ion-text-center\" className=\"studySIMProgListCol\">\r\n                                    <IonButton id=\"filterBtn\" fill=\"clear\" onClick={(e) => {\r\n                                        setShowProgCourseFilterPopover({ open: true, event: e.nativeEvent })\r\n                                    }\r\n                                    }>\r\n                                        <FontAwesomeIcon className=\"filterIcon\" size=\"lg\" icon={faFilter} />\r\n                                    </IonButton>\r\n                                </IonCol>\r\n                            </IonRow>\r\n                        </IonGrid>\r\n                    </IonToolbar>\r\n\r\n                </IonHeader>\r\n\r\n                <IonContent fullscreen={true} id=\"studySIMProgListContent\">\r\n                    <IonGrid id=\"studySIMProgListGrid\">\r\n\r\n                        {/* Programme List */}\r\n                        {programmes ?\r\n                            programmes.map((programme: Programme) => {\r\n                                return (\r\n                                    <div key={programme.id}>\r\n                                        <>\r\n                                            <IonRow className=\"studySIMProgListRow\" class=\"ion-align-items-center\">\r\n                                                <IonCol size=\"4\" sizeSm=\"4\" class=\"ion-text-center\">\r\n                                                    <img src={programme.uniLogo} className=\"studyProgUniImg\"></img>\r\n                                                </IonCol>\r\n\r\n                                                <IonCol size=\"8\" sizeSm=\"8\" className=\"studySIMProgListColDetails\" class=\"ion-text-left\">\r\n                                                    {/* Programme Title */}\r\n                                                    <IonRow className=\"progCourseRow\">\r\n                                                        {/* <IonRouterLink id=\"progCourseTitleLink\" href={`/u/study@SIMMain/Study@SIMProgInfo/${programme.id}`}> */}\r\n                                                        <IonRouterLink id=\"progCourseTitleLink\" href={`/u/study@SIMMain/Study@SIMProgInfo/${programme.id}/${discipline}/${category}`}>\r\n                                                            <IonTitle className=\"progCourseTitle\">\r\n                                                                <div className=\"ion-text-wrap\">{programme.programmeTitle}</div>\r\n                                                            </IonTitle>\r\n                                                        </IonRouterLink>\r\n                                                    </IonRow>\r\n\r\n                                                    {/* Awarding Uni */}\r\n                                                    <IonRow className=\"progCourseRow\">\r\n                                                        <IonCol size=\"4\" sizeSm=\"4\" class=\"ion-text-left\" className=\"progCourseAwardingUniCol\">\r\n                                                            <IonLabel className=\"progCourseAwardingUniLabel\">\r\n                                                                <div className=\"ion-text-wrap\">Awarded by:</div>\r\n                                                            </IonLabel>\r\n                                                        </IonCol>\r\n\r\n                                                        <IonCol size=\"8\" sizeSm=\"8\" class=\"ion-text-left\" className=\"progCourseAwardingUniCol\">\r\n                                                            <IonLabel className=\"progCourseAwardingUniName\">\r\n                                                                <div className=\"ion-text-wrap\">{programme.awardedBy}</div>\r\n                                                            </IonLabel>\r\n                                                        </IonCol>\r\n                                                    </IonRow>\r\n\r\n                                                    <IonRow className=\"progCompareBtnRow\">\r\n                                                        <IonCol size=\"12\" sizeSm=\"12\" class=\"ion-text-right\" className=\"progCompareBtnCol\">\r\n                                                            {compareProgList.includes(programme) ?\r\n                                                                <IonButton className=\"progCompareBtnSelected\" size=\"small\" type=\"submit\" onClick={e => compareProgramme(programme)}>Compared\r\n                                                    <FontAwesomeIcon style={{ paddingLeft: \"3%\" }} icon={faCheck} />\r\n                                                                </IonButton>\r\n                                                                :\r\n                                                                (<IonButton className=\"progCompareBtn\" size=\"small\" type=\"submit\" onClick={e => compareProgramme(programme)}>Compare</IonButton>)\r\n                                                            }\r\n\r\n                                                        </IonCol>\r\n                                                    </IonRow>\r\n                                                </IonCol>\r\n                                            </IonRow>\r\n                                        </></div>\r\n                                )\r\n                            })\r\n\r\n                            : ''\r\n                        }\r\n\r\n                    </IonGrid>\r\n\r\n                    {/* Compare Programme Popover */}\r\n                    <IonPopover id=\"compareProgPopover\"\r\n                        cssClass='compareProgPopover'\r\n                        isOpen={showCompareProgPopover.open}\r\n                        event={showCompareProgPopover.event}\r\n                        onDidDismiss={e => setShowCompareProgPopover({ open: false, event: undefined })}\r\n                    >\r\n                        <CompareProgPopoverContent compareProgList={compareProgList} removeProg={removeProg} removeAllProg={removeAllProg} viewResults={() => (console.log('Add viewResults function here'))}\r\n                            href={`/u/study@SIMMain/${props.match.params.discipline}/${props.match.params.category}/courseComparator`} />\r\n\r\n                    </IonPopover>\r\n\r\n\r\n                    {/* Filter Programmes Popover */}\r\n                    <IonPopover id=\"progCourseFilterPopover\"\r\n                        cssClass='progCourseFilterPopover'\r\n                        isOpen={showProgCourseFilterPopover.open}\r\n                        event={showProgCourseFilterPopover.event}\r\n                        onDidDismiss={e => setShowProgCourseFilterPopover({ open: false, event: undefined })}\r\n                    >\r\n                        <FilterPopoverContent filterFunction={filterProgrammes} programmes={programmes} filterFor={\"study@SIM\"} filterCondition={filterCondition} onUpdateFilter={onUpdateFilter} discipline={discipline} category={category} setState=\"\" />\r\n                    </IonPopover>\r\n                </IonContent>\r\n\r\n            </IonPage>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default StudySIMProgList;"]},"metadata":{},"sourceType":"module"}