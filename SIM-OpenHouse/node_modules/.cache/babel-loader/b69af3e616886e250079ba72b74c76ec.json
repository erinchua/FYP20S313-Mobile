{"ast":null,"code":"import _slicedToArray from\"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{IonPage,IonContent,IonToolbar,IonGrid,IonRow,IonCol,IonSegment,IonSegmentButton,IonIcon,IonHeader}from'@ionic/react';import React,{useEffect,useState}from'react';import{Redirect}from'react-router';import{giftOutline,qrCodeOutline}from'ionicons/icons';import'../../css/Global.css';import'../../css/OpenHouseActivities.css';import PerformancesContent from'../../components/OpenHouseProgrammes/PerformancesContent';import GamesContent from'../../components/OpenHouseProgrammes/GamesContent';import PrizesContent from'../../components/OpenHouseProgrammes/PrizesContent';import TopNav from'../../components/TopNav';import{db}from'../../firebase';import{useAuth}from'../../modules/auth';var OpenHouseActivities=function OpenHouseActivities(){var _useAuth=useAuth(),userID=_useAuth.userID;var _useState=useState('day1'),_useState2=_slicedToArray(_useState,2),dayNum=_useState2[0],setDayNum=_useState2[1];var _useState3=useState('Performances'),_useState4=_slicedToArray(_useState3,2),headingTitle=_useState4[0],setHeadingTitle=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),openhouseDates=_useState6[0],setOpenhouseDates=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),performances=_useState8[0],setPerformances=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),gamesActivities=_useState10[0],setGamesActivities=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),prizes=_useState12[0],setPrizes=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),venue=_useState14[0],setVenue=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),scheduleItems=_useState16[0],setScheduleItems=_useState16[1];var handleDayOne=function handleDayOne(){setDayNum('day1');};var handleDayTwo=function handleDayTwo(){setDayNum('day2');};var handlePerformance=function handlePerformance(){setHeadingTitle('Performances');};var handleGames=function handleGames(){setHeadingTitle('GamesNActivities');};var handlePrizes=function handlePrizes(){setHeadingTitle('Prizes');};var handleQr=function handleQr(){setHeadingTitle('QR');};useEffect(function(){db.collection(\"Openhouse\").get().then(function(snapshot){var dates=[];snapshot.forEach(function(doc){var data=doc.get('day');for(var i=0;i<Object.keys(data).length;i++){var date=data[Object.keys(data)[i]].date;dates.push(date);}});setOpenhouseDates(dates);}).catch(function(error){return console.log(error);});db.collection(\"Performances\").get().then(function(snapshot){var performances=[];snapshot.forEach(function(doc){var data=doc.data();performances.push(data);});setPerformances(performances);}).catch(function(error){return console.log(error);});db.collection(\"GamesActivities\").get().then(function(snapshot){var activities=[];snapshot.forEach(function(doc){var data=doc.data();activities.push(data);});setGamesActivities(activities);}).catch(function(error){return console.log(error);});db.collection(\"Prizes\").get().then(function(snapshot){var prizes=[];var venue=[];snapshot.forEach(function(doc){var data=doc.data();if(doc.id.includes(\"prize\")){prizes.push(data);}else if(doc.id.includes(\"venue\")){for(var i=0;i<Object.keys(data.day).length;i++){var day=data.day[Object.keys(data.day)[i]];venue.push(day);}}});setPrizes(prizes);setVenue(venue);}).catch(function(error){return console.log(error);});return db.collection('PersonalScheduler').doc(userID).onSnapshot(function(snap){var _snap$data;setScheduleItems((_snap$data=snap.data())===null||_snap$data===void 0?void 0:_snap$data.registeredProgrammes);});},[]);return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(TopNav,{title:\"Open House Activities\",route:\"/u/openHouseMain\",backarrow:true,hamburger:true})),/*#__PURE__*/React.createElement(IonContent,{fullscreen:true,id:\"openHouseActivities-content\"},/*#__PURE__*/React.createElement(IonGrid,{className:\"openHouseActivities-grid\"},/*#__PURE__*/React.createElement(IonRow,{className:\"openHouseActivities-grid\"},/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonSegment,{scrollable:true,value:headingTitle,onIonChange:function onIonChange(e){return console.log(\"\".concat(e.detail.value));}},/*#__PURE__*/React.createElement(IonCol,{className:\"openHouseActivities-grid\",sizeSm:\"4\"},/*#__PURE__*/React.createElement(IonSegmentButton,{value:\"Performances\",onClick:handlePerformance,className:\"openHouseActivities-heading ion-text-wrap\"},\"Performances\")),/*#__PURE__*/React.createElement(IonCol,{className:\"openHouseActivities-grid\",sizeSm:\"4\"},/*#__PURE__*/React.createElement(IonSegmentButton,{value:\"GamesNActivities\",onClick:handleGames,className:\"openHouseActivities-heading ion-text-wrap\"},\"Games & Activities\")),/*#__PURE__*/React.createElement(IonCol,{className:\"openHouseActivities-grid\",sizeSm:\"4\"},/*#__PURE__*/React.createElement(IonRow,{className:\"openHouseActivities-grid\"},/*#__PURE__*/React.createElement(IonCol,{className:\"openHouseActivities-grid\"},/*#__PURE__*/React.createElement(IonSegmentButton,{value:\"Prizes\",onClick:handlePrizes,id:\"openHouseActivities-prizesHeader\"},/*#__PURE__*/React.createElement(IonIcon,{icon:giftOutline})),/*#__PURE__*/React.createElement(IonSegmentButton,{value:\"QR\",onClick:handleQr,id:\"openHouseActivities-prizesHeader\"},/*#__PURE__*/React.createElement(IonIcon,{icon:qrCodeOutline}))))))))),headingTitle==='Performances'?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(IonGrid,{id:\"performancesContent-ionRowCol\"},/*#__PURE__*/React.createElement(IonRow,{id:\"performancesContent-ionRowCol\"},/*#__PURE__*/React.createElement(IonCol,{id:\"performancesContent-ionRowCol\"},/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonSegment,{scrollable:true,value:dayNum,onIonChange:function onIonChange(e){return console.log(\"\".concat(e.detail.value));}},/*#__PURE__*/React.createElement(IonSegmentButton,{value:\"day1\",onClick:function onClick(){return handleDayOne();},className:\"performancesContent-heading\"},\"Day 1: \",openhouseDates[0]),/*#__PURE__*/React.createElement(IonSegmentButton,{value:\"day2\",onClick:function onClick(){return handleDayTwo();},className:\"performancesContent-heading\"},\"Day 2: \",openhouseDates[1])))))),/*#__PURE__*/React.createElement(PerformancesContent,{day1:dayNum,day2:dayNum,openhouseDates:openhouseDates,performances:performances,scheduleItems:scheduleItems})):'',headingTitle==='GamesNActivities'?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(IonGrid,{id:\"gamesContent-ionRowCol\"},/*#__PURE__*/React.createElement(IonRow,{id:\"gamesContent-ionRowCol\"},/*#__PURE__*/React.createElement(IonCol,{id:\"gamesContent-ionRowCol\"},/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonSegment,{scrollable:true,value:dayNum,onIonChange:function onIonChange(e){return console.log(\"\".concat(e.detail.value));}},/*#__PURE__*/React.createElement(IonSegmentButton,{value:\"day1\",onClick:function onClick(){return handleDayOne();},className:\"gamesContent-heading\"},\"Day 1: \",openhouseDates[0]),/*#__PURE__*/React.createElement(IonSegmentButton,{value:\"day2\",onClick:function onClick(){return handleDayTwo();},className:\"gamesContent-heading\"},\"Day 2: \",openhouseDates[1])))))),/*#__PURE__*/React.createElement(GamesContent,{day1:dayNum,day2:dayNum,openhouseDates:openhouseDates,gamesActivities:gamesActivities,scheduleItems:scheduleItems})):'',headingTitle==='Prizes'?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(PrizesContent,{prizes:prizes,venue:venue})):'',headingTitle==='QR'?/*#__PURE__*/React.createElement(Redirect,{to:\"/u/QRScan\",from:\"/u/openHouseMain/openHouseActivities\"}):''));};export default OpenHouseActivities;","map":{"version":3,"sources":["D:/BearBear/Coding_Projects/UOW-CSIT321 (FYP)/FYP20S313-Mobile/SIM-OpenHouse/src/pages/OpenHouseProgrammes/OpenHouseActivities.tsx"],"names":["IonPage","IonContent","IonToolbar","IonGrid","IonRow","IonCol","IonSegment","IonSegmentButton","IonIcon","IonHeader","React","useEffect","useState","Redirect","giftOutline","qrCodeOutline","PerformancesContent","GamesContent","PrizesContent","TopNav","db","useAuth","OpenHouseActivities","userID","dayNum","setDayNum","headingTitle","setHeadingTitle","openhouseDates","setOpenhouseDates","performances","setPerformances","gamesActivities","setGamesActivities","prizes","setPrizes","venue","setVenue","scheduleItems","setScheduleItems","handleDayOne","handleDayTwo","handlePerformance","handleGames","handlePrizes","handleQr","collection","get","then","snapshot","dates","forEach","doc","data","i","Object","keys","length","date","push","catch","error","console","log","activities","id","includes","day","onSnapshot","snap","registeredProgrammes","e","detail","value"],"mappings":"6MAAA,OAASA,OAAT,CAAkBC,UAAlB,CAA8BC,UAA9B,CAA0CC,OAA1C,CAAmDC,MAAnD,CAA2DC,MAA3D,CAAmEC,UAAnE,CAA+EC,gBAA/E,CAAiGC,OAAjG,CAA0GC,SAA1G,KAA2H,cAA3H,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,QAAT,KAAyB,cAAzB,CACA,OAASC,WAAT,CAAsBC,aAAtB,KAA2C,gBAA3C,CAEA,MAAO,sBAAP,CACA,MAAO,mCAAP,CACA,MAAOC,CAAAA,mBAAP,KAAgC,0DAAhC,CACA,MAAOC,CAAAA,YAAP,KAAyB,mDAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,oDAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,OAASC,EAAT,KAAmB,gBAAnB,CACA,OAASC,OAAT,KAAwB,oBAAxB,CAEA,GAAMC,CAAAA,mBAAoD,CAAG,QAAvDA,CAAAA,mBAAuD,EAAM,cAC5CD,OAAO,EADqC,CACvDE,MADuD,UACvDA,MADuD,eAGnCX,QAAQ,CAAC,MAAD,CAH2B,wCAGxDY,MAHwD,eAGhDC,SAHgD,8BAIvBb,QAAQ,CAAC,cAAD,CAJe,yCAIxDc,YAJwD,eAI1CC,eAJ0C,8BAKnBf,QAAQ,CAAC,EAAD,CALW,yCAKxDgB,cALwD,eAKxCC,iBALwC,8BAMvBjB,QAAQ,CAAQ,EAAR,CANe,yCAMxDkB,YANwD,eAM1CC,eAN0C,8BAOjBnB,QAAQ,CAAQ,EAAR,CAPS,0CAOxDoB,eAPwD,gBAOvCC,kBAPuC,gCAQnCrB,QAAQ,CAAQ,EAAR,CAR2B,2CAQxDsB,MARwD,gBAQhDC,SARgD,gCASrCvB,QAAQ,CAAC,EAAD,CAT6B,2CASxDwB,KATwD,gBASjDC,QATiD,gCAUrBzB,QAAQ,CAAC,EAAD,CAVa,2CAUxD0B,aAVwD,gBAUzCC,gBAVyC,gBAa/D,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBf,SAAS,CAAC,MAAD,CAAT,CACH,CAFD,CAIA,GAAMgB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBhB,SAAS,CAAC,MAAD,CAAT,CACH,CAFD,CAIA,GAAMiB,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC5Bf,eAAe,CAAC,cAAD,CAAf,CACH,CAFD,CAGA,GAAMgB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBhB,eAAe,CAAC,kBAAD,CAAf,CACH,CAFD,CAIA,GAAMiB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBjB,eAAe,CAAC,QAAD,CAAf,CACH,CAFD,CAIA,GAAMkB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnBlB,eAAe,CAAC,IAAD,CAAf,CACH,CAFD,CAIAhB,SAAS,CAAC,UAAM,CACZS,EAAE,CAAC0B,UAAH,CAAc,WAAd,EAA2BC,GAA3B,GAAiCC,IAAjC,CAAsC,SAACC,QAAD,CAAc,CAChD,GAAMC,CAAAA,KAAU,CAAG,EAAnB,CACAD,QAAQ,CAACE,OAAT,CAAiB,SAACC,GAAD,CAAS,CACtB,GAAMC,CAAAA,IAAI,CAAGD,GAAG,CAACL,GAAJ,CAAQ,KAAR,CAAb,CACA,IAAK,GAAIO,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGC,MAAM,CAACC,IAAP,CAAYH,IAAZ,EAAkBI,MAAtC,CAA8CH,CAAC,EAA/C,CAAmD,CAC/C,GAAMI,CAAAA,IAAI,CAAGL,IAAI,CAACE,MAAM,CAACC,IAAP,CAAYH,IAAZ,EAAkBC,CAAlB,CAAD,CAAJ,CAA2BI,IAAxC,CACAR,KAAK,CAACS,IAAN,CAAWD,IAAX,EACH,CACJ,CAND,EAOA7B,iBAAiB,CAACqB,KAAD,CAAjB,CACH,CAVD,EAUGU,KAVH,CAUS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAVT,EAYAzC,EAAE,CAAC0B,UAAH,CAAc,cAAd,EAA8BC,GAA9B,GAAoCC,IAApC,CAAyC,SAACC,QAAD,CAAc,CACnD,GAAMnB,CAAAA,YAAiB,CAAG,EAA1B,CACAmB,QAAQ,CAACE,OAAT,CAAiB,SAACC,GAAD,CAAS,CACtB,GAAMC,CAAAA,IAAI,CAAGD,GAAG,CAACC,IAAJ,EAAb,CACAvB,YAAY,CAAC6B,IAAb,CAAkBN,IAAlB,EACH,CAHD,EAIAtB,eAAe,CAACD,YAAD,CAAf,CACH,CAPD,EAOG8B,KAPH,CAOS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAPT,EASAzC,EAAE,CAAC0B,UAAH,CAAc,iBAAd,EAAiCC,GAAjC,GAAuCC,IAAvC,CAA4C,SAACC,QAAD,CAAc,CACtD,GAAMe,CAAAA,UAAe,CAAG,EAAxB,CACAf,QAAQ,CAACE,OAAT,CAAiB,SAACC,GAAD,CAAS,CACtB,GAAMC,CAAAA,IAAI,CAAGD,GAAG,CAACC,IAAJ,EAAb,CACAW,UAAU,CAACL,IAAX,CAAgBN,IAAhB,EACH,CAHD,EAIApB,kBAAkB,CAAC+B,UAAD,CAAlB,CACH,CAPD,EAOGJ,KAPH,CAOS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAPT,EASAzC,EAAE,CAAC0B,UAAH,CAAc,QAAd,EAAwBC,GAAxB,GAA8BC,IAA9B,CAAmC,SAACC,QAAD,CAAc,CAC7C,GAAMf,CAAAA,MAAW,CAAG,EAApB,CACA,GAAME,CAAAA,KAAU,CAAG,EAAnB,CAEAa,QAAQ,CAACE,OAAT,CAAiB,SAACC,GAAD,CAAS,CACtB,GAAMC,CAAAA,IAAI,CAAGD,GAAG,CAACC,IAAJ,EAAb,CAEA,GAAID,GAAG,CAACa,EAAJ,CAAOC,QAAP,CAAgB,OAAhB,CAAJ,CAA8B,CAC1BhC,MAAM,CAACyB,IAAP,CAAYN,IAAZ,EACH,CAFD,IAEO,IAAID,GAAG,CAACa,EAAJ,CAAOC,QAAP,CAAgB,OAAhB,CAAJ,CAA8B,CACjC,IAAK,GAAIZ,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGC,MAAM,CAACC,IAAP,CAAYH,IAAI,CAACc,GAAjB,EAAsBV,MAA1C,CAAkDH,CAAC,EAAnD,CAAuD,CACnD,GAAMa,CAAAA,GAAG,CAAGd,IAAI,CAACc,GAAL,CAASZ,MAAM,CAACC,IAAP,CAAYH,IAAI,CAACc,GAAjB,EAAsBb,CAAtB,CAAT,CAAZ,CACAlB,KAAK,CAACuB,IAAN,CAAWQ,GAAX,EACH,CACJ,CACJ,CAXD,EAaAhC,SAAS,CAACD,MAAD,CAAT,CACAG,QAAQ,CAACD,KAAD,CAAR,CACH,CAnBD,EAmBGwB,KAnBH,CAmBS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAnBT,EAqBA,MAAOzC,CAAAA,EAAE,CAAC0B,UAAH,CAAc,mBAAd,EAAmCM,GAAnC,CAAuC7B,MAAvC,EAA+C6C,UAA/C,CAA0D,SAAAC,IAAI,CAAI,gBACrE9B,gBAAgB,aAAC8B,IAAI,CAAChB,IAAL,EAAD,qCAAC,WAAaiB,oBAAd,CAAhB,CACH,CAFM,CAAP,CAGH,CAvDQ,CAuDN,EAvDM,CAAT,CAyDA,mBACI,oBAAC,OAAD,mBACI,oBAAC,SAAD,mBACI,oBAAC,MAAD,EAAQ,KAAK,CAAC,uBAAd,CAAsC,KAAK,CAAC,kBAA5C,CAA+D,SAAS,CAAE,IAA1E,CAAgF,SAAS,CAAE,IAA3F,EADJ,CADJ,cAKI,oBAAC,UAAD,EAAY,UAAU,KAAtB,CAAuB,EAAE,CAAC,6BAA1B,eAEI,oBAAC,OAAD,EAAS,SAAS,CAAC,0BAAnB,eACI,oBAAC,MAAD,EAAQ,SAAS,CAAC,0BAAlB,eACI,oBAAC,UAAD,mBACI,oBAAC,UAAD,EAAY,UAAU,KAAtB,CAAuB,KAAK,CAAE5C,YAA9B,CAA4C,WAAW,CAAE,qBAAC6C,CAAD,QAAOT,CAAAA,OAAO,CAACC,GAAR,WAAeQ,CAAC,CAACC,MAAF,CAASC,KAAxB,EAAP,EAAzD,eACI,oBAAC,MAAD,EAAQ,SAAS,CAAC,0BAAlB,CAA6C,MAAM,CAAC,GAApD,eACI,oBAAC,gBAAD,EAAkB,KAAK,CAAC,cAAxB,CAAuC,OAAO,CAAE/B,iBAAhD,CAAmE,SAAS,CAAC,2CAA7E,iBADJ,CADJ,cAII,oBAAC,MAAD,EAAQ,SAAS,CAAC,0BAAlB,CAA6C,MAAM,CAAC,GAApD,eACI,oBAAC,gBAAD,EAAkB,KAAK,CAAC,kBAAxB,CAA2C,OAAO,CAAEC,WAApD,CAAiE,SAAS,CAAC,2CAA3E,uBADJ,CAJJ,cAOI,oBAAC,MAAD,EAAQ,SAAS,CAAC,0BAAlB,CAA6C,MAAM,CAAC,GAApD,eACI,oBAAC,MAAD,EAAQ,SAAS,CAAC,0BAAlB,eACI,oBAAC,MAAD,EAAQ,SAAS,CAAC,0BAAlB,eACI,oBAAC,gBAAD,EAAkB,KAAK,CAAC,QAAxB,CAAiC,OAAO,CAAEC,YAA1C,CAAwD,EAAE,CAAC,kCAA3D,eACI,oBAAC,OAAD,EAAS,IAAI,CAAE9B,WAAf,EADJ,CADJ,cAII,oBAAC,gBAAD,EAAkB,KAAK,CAAC,IAAxB,CAA6B,OAAO,CAAE+B,QAAtC,CAAgD,EAAE,CAAC,kCAAnD,eACI,oBAAC,OAAD,EAAS,IAAI,CAAE9B,aAAf,EADJ,CAJJ,CADJ,CADJ,CAPJ,CADJ,CADJ,CADJ,CAFJ,CA8BKW,YAAY,GAAK,cAAjB,cACG,qDACI,oBAAC,OAAD,EAAS,EAAE,CAAC,+BAAZ,eACI,oBAAC,MAAD,EAAQ,EAAE,CAAC,+BAAX,eACI,oBAAC,MAAD,EAAQ,EAAE,CAAC,+BAAX,eACI,oBAAC,UAAD,mBACI,oBAAC,UAAD,EAAY,UAAU,KAAtB,CAAuB,KAAK,CAAEF,MAA9B,CAAsC,WAAW,CAAE,qBAAC+C,CAAD,QAAOT,CAAAA,OAAO,CAACC,GAAR,WAAeQ,CAAC,CAACC,MAAF,CAASC,KAAxB,EAAP,EAAnD,eACI,oBAAC,gBAAD,EAAkB,KAAK,CAAC,MAAxB,CAA+B,OAAO,CAAE,yBAAMjC,CAAAA,YAAY,EAAlB,EAAxC,CAA8D,SAAS,CAAC,6BAAxE,YAA8GZ,cAAc,CAAC,CAAD,CAA5H,CADJ,cAEI,oBAAC,gBAAD,EAAkB,KAAK,CAAC,MAAxB,CAA+B,OAAO,CAAE,yBAAMa,CAAAA,YAAY,EAAlB,EAAxC,CAA8D,SAAS,CAAC,6BAAxE,YAA8Gb,cAAc,CAAC,CAAD,CAA5H,CAFJ,CADJ,CADJ,CADJ,CADJ,CADJ,cAaI,oBAAC,mBAAD,EAAqB,IAAI,CAAEJ,MAA3B,CAAmC,IAAI,CAAEA,MAAzC,CAAiD,cAAc,CAAEI,cAAjE,CAAiF,YAAY,CAAEE,YAA/F,CAA6G,aAAa,CAAEQ,aAA5H,EAbJ,CADH,CAeS,EA7Cd,CAiDKZ,YAAY,GAAK,kBAAjB,cACG,qDACI,oBAAC,OAAD,EAAS,EAAE,CAAC,wBAAZ,eACI,oBAAC,MAAD,EAAQ,EAAE,CAAC,wBAAX,eACI,oBAAC,MAAD,EAAQ,EAAE,CAAC,wBAAX,eACI,oBAAC,UAAD,mBACI,oBAAC,UAAD,EAAY,UAAU,KAAtB,CAAuB,KAAK,CAAEF,MAA9B,CAAsC,WAAW,CAAE,qBAAC+C,CAAD,QAAOT,CAAAA,OAAO,CAACC,GAAR,WAAeQ,CAAC,CAACC,MAAF,CAASC,KAAxB,EAAP,EAAnD,eACI,oBAAC,gBAAD,EAAkB,KAAK,CAAC,MAAxB,CAA+B,OAAO,CAAE,yBAAMjC,CAAAA,YAAY,EAAlB,EAAxC,CAA8D,SAAS,CAAC,sBAAxE,YAAuGZ,cAAc,CAAC,CAAD,CAArH,CADJ,cAEI,oBAAC,gBAAD,EAAkB,KAAK,CAAC,MAAxB,CAA+B,OAAO,CAAE,yBAAMa,CAAAA,YAAY,EAAlB,EAAxC,CAA8D,SAAS,CAAC,sBAAxE,YAAuGb,cAAc,CAAC,CAAD,CAArH,CAFJ,CADJ,CADJ,CADJ,CADJ,CADJ,cAaI,oBAAC,YAAD,EAAc,IAAI,CAAEJ,MAApB,CAA4B,IAAI,CAAEA,MAAlC,CAA0C,cAAc,CAAEI,cAA1D,CAA0E,eAAe,CAAEI,eAA3F,CAA4G,aAAa,CAAEM,aAA3H,EAbJ,CADH,CAeS,EAhEd,CAoEKZ,YAAY,GAAK,QAAjB,cACG,qDACI,oBAAC,aAAD,EAAe,MAAM,CAAEQ,MAAvB,CAA+B,KAAK,CAAEE,KAAtC,EADJ,CADH,CAGS,EAvEd,CA2EKV,YAAY,GAAK,IAAjB,cACG,oBAAC,QAAD,EAAU,EAAE,CAAC,WAAb,CAAyB,IAAI,CAAC,sCAA9B,EADH,CAC6E,EA5ElF,CALJ,CADJ,CAyFH,CAtLD,CAwLA,cAAeJ,CAAAA,mBAAf","sourcesContent":["import { IonPage, IonContent, IonToolbar, IonGrid, IonRow, IonCol, IonSegment, IonSegmentButton, IonIcon, IonHeader } from '@ionic/react';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { giftOutline, qrCodeOutline } from 'ionicons/icons';\r\n\r\nimport '../../css/Global.css';\r\nimport '../../css/OpenHouseActivities.css';\r\nimport PerformancesContent from '../../components/OpenHouseProgrammes/PerformancesContent';\r\nimport GamesContent from '../../components/OpenHouseProgrammes/GamesContent';\r\nimport PrizesContent from '../../components/OpenHouseProgrammes/PrizesContent';\r\nimport TopNav from '../../components/TopNav';\r\nimport { db } from '../../firebase'\r\nimport { useAuth } from '../../modules/auth';\r\n\r\nconst OpenHouseActivities: React.FC<{ headingTitle: any }> = () => {\r\n    const { userID } = useAuth();\r\n\r\n    const [dayNum, setDayNum] = useState('day1');\r\n    const [headingTitle, setHeadingTitle] = useState('Performances');\r\n    const [openhouseDates, setOpenhouseDates] = useState([])\r\n    const [performances, setPerformances] = useState<any[]>([]);\r\n    const [gamesActivities, setGamesActivities] = useState<any[]>([]);\r\n    const [prizes, setPrizes] = useState<any[]>([]);\r\n    const [venue, setVenue] = useState([]);\r\n    const [scheduleItems, setScheduleItems] = useState([]);\r\n\r\n\r\n    const handleDayOne = () => {\r\n        setDayNum('day1');\r\n    }\r\n\r\n    const handleDayTwo = () => {\r\n        setDayNum('day2');\r\n    }\r\n\r\n    const handlePerformance = () => {\r\n        setHeadingTitle('Performances');\r\n    }\r\n    const handleGames = () => {\r\n        setHeadingTitle('GamesNActivities');\r\n    }\r\n\r\n    const handlePrizes = () => {\r\n        setHeadingTitle('Prizes');\r\n    }\r\n\r\n    const handleQr = () => {\r\n        setHeadingTitle('QR');\r\n    }\r\n\r\n    useEffect(() => {\r\n        db.collection(\"Openhouse\").get().then((snapshot) => {\r\n            const dates: any = [];\r\n            snapshot.forEach((doc) => {\r\n                const data = doc.get('day')\r\n                for (var i = 0; i < Object.keys(data).length; i++) {\r\n                    const date = data[Object.keys(data)[i]].date;\r\n                    dates.push(date)\r\n                }\r\n            });\r\n            setOpenhouseDates(dates);\r\n        }).catch((error) => console.log(error));\r\n\r\n        db.collection(\"Performances\").get().then((snapshot) => {\r\n            const performances: any = [];\r\n            snapshot.forEach((doc) => {\r\n                const data = doc.data();\r\n                performances.push(data);\r\n            });\r\n            setPerformances(performances);\r\n        }).catch((error) => console.log(error));\r\n\r\n        db.collection(\"GamesActivities\").get().then((snapshot) => {\r\n            const activities: any = [];\r\n            snapshot.forEach((doc) => {\r\n                const data = doc.data();\r\n                activities.push(data);\r\n            });\r\n            setGamesActivities(activities);\r\n        }).catch((error) => console.log(error));\r\n\r\n        db.collection(\"Prizes\").get().then((snapshot) => {\r\n            const prizes: any = [];\r\n            const venue: any = [];\r\n\r\n            snapshot.forEach((doc) => {\r\n                const data = doc.data();\r\n\r\n                if (doc.id.includes(\"prize\")) {\r\n                    prizes.push(data);\r\n                } else if (doc.id.includes(\"venue\")) {\r\n                    for (let i = 0; i < Object.keys(data.day).length; i++) {\r\n                        const day = data.day[Object.keys(data.day)[i]];\r\n                        venue.push(day);\r\n                    }\r\n                }\r\n            });\r\n\r\n            setPrizes(prizes);\r\n            setVenue(venue);\r\n        }).catch((error) => console.log(error));\r\n\r\n        return db.collection('PersonalScheduler').doc(userID).onSnapshot(snap => {\r\n            setScheduleItems(snap.data()?.registeredProgrammes);\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <IonPage>\r\n            <IonHeader>\r\n                <TopNav title=\"Open House Activities\" route=\"/u/openHouseMain\" backarrow={true} hamburger={true} />\r\n            </IonHeader>\r\n\r\n            <IonContent fullscreen id=\"openHouseActivities-content\">\r\n                {/* Main Heading */}\r\n                <IonGrid className=\"openHouseActivities-grid\">\r\n                    <IonRow className=\"openHouseActivities-grid\">\r\n                        <IonToolbar>\r\n                            <IonSegment scrollable value={headingTitle} onIonChange={(e) => console.log(`${e.detail.value}`)}>\r\n                                <IonCol className=\"openHouseActivities-grid\" sizeSm=\"4\">\r\n                                    <IonSegmentButton value=\"Performances\" onClick={handlePerformance} className=\"openHouseActivities-heading ion-text-wrap\">Performances</IonSegmentButton>\r\n                                </IonCol>\r\n                                <IonCol className=\"openHouseActivities-grid\" sizeSm=\"4\">\r\n                                    <IonSegmentButton value=\"GamesNActivities\" onClick={handleGames} className=\"openHouseActivities-heading ion-text-wrap\">Games & Activities</IonSegmentButton>\r\n                                </IonCol>\r\n                                <IonCol className=\"openHouseActivities-grid\" sizeSm=\"4\">\r\n                                    <IonRow className=\"openHouseActivities-grid\">\r\n                                        <IonCol className=\"openHouseActivities-grid\">\r\n                                            <IonSegmentButton value=\"Prizes\" onClick={handlePrizes} id=\"openHouseActivities-prizesHeader\">\r\n                                                <IonIcon icon={giftOutline} />\r\n                                            </IonSegmentButton>\r\n                                            <IonSegmentButton value=\"QR\" onClick={handleQr} id=\"openHouseActivities-prizesHeader\">\r\n                                                <IonIcon icon={qrCodeOutline} />\r\n                                            </IonSegmentButton>\r\n                                        </IonCol>\r\n                                    </IonRow>\r\n                                </IonCol>\r\n                            </IonSegment>\r\n                        </IonToolbar>\r\n                    </IonRow>\r\n                </IonGrid>\r\n\r\n                {/* Performances */}\r\n                {headingTitle === 'Performances' ?\r\n                    <>\r\n                        <IonGrid id=\"performancesContent-ionRowCol\">\r\n                            <IonRow id=\"performancesContent-ionRowCol\">\r\n                                <IonCol id=\"performancesContent-ionRowCol\">\r\n                                    <IonToolbar>\r\n                                        <IonSegment scrollable value={dayNum} onIonChange={(e) => console.log(`${e.detail.value}`)}>\r\n                                            <IonSegmentButton value=\"day1\" onClick={() => handleDayOne()} className=\"performancesContent-heading\">Day 1: {openhouseDates[0]}</IonSegmentButton>\r\n                                            <IonSegmentButton value=\"day2\" onClick={() => handleDayTwo()} className=\"performancesContent-heading\">Day 2: {openhouseDates[1]}</IonSegmentButton>\r\n                                        </IonSegment>\r\n                                    </IonToolbar>\r\n                                </IonCol>\r\n                            </IonRow>\r\n                        </IonGrid>\r\n                        <PerformancesContent day1={dayNum} day2={dayNum} openhouseDates={openhouseDates} performances={performances} scheduleItems={scheduleItems} />\r\n                    </> : ''\r\n                }\r\n\r\n                {/* Games & Activities */}\r\n                {headingTitle === 'GamesNActivities' ?\r\n                    <>\r\n                        <IonGrid id=\"gamesContent-ionRowCol\">\r\n                            <IonRow id=\"gamesContent-ionRowCol\">\r\n                                <IonCol id=\"gamesContent-ionRowCol\">\r\n                                    <IonToolbar>\r\n                                        <IonSegment scrollable value={dayNum} onIonChange={(e) => console.log(`${e.detail.value}`)}>\r\n                                            <IonSegmentButton value=\"day1\" onClick={() => handleDayOne()} className=\"gamesContent-heading\">Day 1: {openhouseDates[0]}</IonSegmentButton>\r\n                                            <IonSegmentButton value=\"day2\" onClick={() => handleDayTwo()} className=\"gamesContent-heading\">Day 2: {openhouseDates[1]}</IonSegmentButton>\r\n                                        </IonSegment>\r\n                                    </IonToolbar>\r\n                                </IonCol>\r\n                            </IonRow>\r\n                        </IonGrid>\r\n                        <GamesContent day1={dayNum} day2={dayNum} openhouseDates={openhouseDates} gamesActivities={gamesActivities} scheduleItems={scheduleItems} />\r\n                    </> : ''\r\n                }\r\n\r\n                {/* Prizes */}\r\n                {headingTitle === 'Prizes' ?\r\n                    <>\r\n                        <PrizesContent prizes={prizes} venue={venue} />\r\n                    </> : ''\r\n                }\r\n\r\n                {/* QR Scanner */}\r\n                {headingTitle === 'QR' ?\r\n                    <Redirect to=\"/u/QRScan\" from=\"/u/openHouseMain/openHouseActivities\" /> : ''\r\n                }\r\n\r\n            </IonContent>\r\n        </IonPage>\r\n    );\r\n\r\n};\r\n\r\nexport default OpenHouseActivities;"]},"metadata":{},"sourceType":"module"}