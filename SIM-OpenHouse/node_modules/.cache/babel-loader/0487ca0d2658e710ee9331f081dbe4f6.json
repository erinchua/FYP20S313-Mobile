{"ast":null,"code":"var _jsxFileName = \"D:\\\\BearBear\\\\Coding_Projects\\\\UOW-CSIT321 (FYP)\\\\FYP20S313-Mobile\\\\SIM-OpenHouse\\\\src\\\\components\\\\QRScan.tsx\";\nimport { IonButton, IonCol, IonGrid, IonRow } from '@ionic/react';\nimport React from 'react';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\nimport firebase from 'firebase';\nimport '../css/Global.css';\nimport '../css/OpenHouseActivities.css';\nimport { db } from '../firebase';\nimport { useAuth } from '../auth';\n\nconst QRScan = () => {\n  const {\n    userID\n  } = useAuth();\n\n  const openScanner = async () => {\n    const data = await BarcodeScanner.scan();\n    console.log(`Barcode data: ${data.text}`);\n    let increment = firebase.firestore.FieldValue.increment(0);\n\n    switch (data.text) {\n      //change string accordingly before deployment\n      case \"plusTen\":\n        increment = firebase.firestore.FieldValue.increment(10);\n        break;\n\n      case \"minusTen\":\n        increment = firebase.firestore.FieldValue.increment(-10);\n        break;\n\n      default:\n    }\n\n    await db.collection('Students').doc(userID).update({\n      points: increment\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IonGrid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    className: \"ion-justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    color: \"dark\",\n    expand: \"block\",\n    onClick: openScanner,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }\n  }, \"Scan barcode\")))));\n};\n\nexport default QRScan;","map":{"version":3,"sources":["D:/BearBear/Coding_Projects/UOW-CSIT321 (FYP)/FYP20S313-Mobile/SIM-OpenHouse/src/components/QRScan.tsx"],"names":["IonButton","IonCol","IonGrid","IonRow","React","BarcodeScanner","firebase","db","useAuth","QRScan","userID","openScanner","data","scan","console","log","text","increment","firestore","FieldValue","collection","doc","update","points"],"mappings":";AAAA,SAAUA,SAAV,EAAqBC,MAArB,EAA6BC,OAA7B,EAAsCC,MAAtC,QAAoD,cAApD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,+BAA/B;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEA,OAAO,mBAAP;AACA,OAAO,gCAAP;AACA,SAASC,EAAT,QAAmB,aAAnB;AACA,SAASC,OAAT,QAAwB,SAAxB;;AAEA,MAAMC,MAAgB,GAAG,MAAM;AAC7B,QAAM;AAAEC,IAAAA;AAAF,MAAaF,OAAO,EAA1B;;AAEA,QAAMG,WAAW,GAAG,YAAY;AAC9B,UAAMC,IAAI,GAAG,MAAMP,cAAc,CAACQ,IAAf,EAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAa,iBAAgBH,IAAI,CAACI,IAAK,EAAvC;AAEA,QAAIC,SAAS,GAAGX,QAAQ,CAACY,SAAT,CAAmBC,UAAnB,CAA8BF,SAA9B,CAAwC,CAAxC,CAAhB;;AAEA,YAAQL,IAAI,CAACI,IAAb;AACE;AACA,WAAK,SAAL;AACEC,QAAAA,SAAS,GAAGX,QAAQ,CAACY,SAAT,CAAmBC,UAAnB,CAA8BF,SAA9B,CAAwC,EAAxC,CAAZ;AACA;;AACF,WAAK,UAAL;AACEA,QAAAA,SAAS,GAAGX,QAAQ,CAACY,SAAT,CAAmBC,UAAnB,CAA8BF,SAA9B,CAAwC,CAAC,EAAzC,CAAZ;AACA;;AACF;AARF;;AAUA,UAAMV,EAAE,CAACa,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8BX,MAA9B,EAAsCY,MAAtC,CAA6C;AACjDC,MAAAA,MAAM,EAAEN;AADyC,KAA7C,CAAN;AAGD,GAnBD;;AAqBA,sBACM,uDACA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,4BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,MAAjB;AAAwB,IAAA,MAAM,EAAC,OAA/B;AAAuC,IAAA,OAAO,EAAEN,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADF,CADF,CADA,CADN;AAWD,CAnCD;;AAqCA,eAAeF,MAAf","sourcesContent":["import {  IonButton, IonCol, IonGrid, IonRow } from '@ionic/react';\r\nimport React from 'react';\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\r\nimport firebase from 'firebase';\r\n\r\nimport '../css/Global.css';\r\nimport '../css/OpenHouseActivities.css';\r\nimport { db } from '../firebase';\r\nimport { useAuth } from '../auth';\r\n\r\nconst QRScan: React.FC = () => {\r\n  const { userID } = useAuth();\r\n\r\n  const openScanner = async () => {\r\n    const data = await BarcodeScanner.scan();\r\n    console.log(`Barcode data: ${data.text}`);\r\n\r\n    let increment = firebase.firestore.FieldValue.increment(0);\r\n\r\n    switch (data.text) {\r\n      //change string accordingly before deployment\r\n      case \"plusTen\":\r\n        increment = firebase.firestore.FieldValue.increment(10);\r\n        break;\r\n      case \"minusTen\":\r\n        increment = firebase.firestore.FieldValue.increment(-10);\r\n        break;\r\n      default:\r\n    }\r\n    await db.collection('Students').doc(userID).update({\r\n      points: increment,\r\n    })\r\n  };\r\n\r\n  return (\r\n        <>\r\n        <IonGrid>\r\n          <IonRow className=\"ion-justify-content-center\">\r\n            <IonCol>\r\n              <IonButton color=\"dark\" expand=\"block\" onClick={openScanner}>Scan barcode</IonButton>\r\n            </IonCol>\r\n          </IonRow>\r\n        </IonGrid>\r\n        </>\r\n  );\r\n};\r\n\r\nexport default QRScan;\r\n"]},"metadata":{},"sourceType":"module"}